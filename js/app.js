!function t(e,n,r){function i(s,u){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!u&&c)return c(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var a=n[s]={exports:{}};e[s][0].call(a.exports,function(t){var n=e[s][1][t];return i(n?n:t)},a,a.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t){var e,n,r,i,o,s,u;r=t("rxmarbles/views/sandbox"),e=t("rxmarbles/views/operators-menu"),n=t("package.json"),u=document.querySelector("#sandbox-container"),u.innerHTML="",u.appendChild(r.render()),i=document.querySelector(".operators-menu-container"),i.appendChild(e.render()),document.querySelector("#app-version").textContent="v"+n.version,s=n.dependencies.rx.replace(/(~|\^|\.\+)*/g,""),o=document.querySelector("#rxjs-version"),o.textContent="RxJS v"+s,o.href="https://github.com/Reactive-Extensions/RxJS/tree/v"+s},{"package.json":12,"rxmarbles/views/operators-menu":30,"rxmarbles/views/sandbox":32}],2:[function(){},{}],3:[function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!i(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,i,u,c,a;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length))throw e=arguments[1],e instanceof Error?e:TypeError('Uncaught, unspecified "error" event.');if(n=this._events[t],s(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,u=new Array(i-1),c=1;i>c;c++)u[c-1]=arguments[c];n.apply(this,u)}else if(o(n)){for(i=arguments.length,u=new Array(i-1),c=1;i>c;c++)u[c-1]=arguments[c];for(a=n.slice(),i=a.length,c=0;i>c;c++)a[c].apply(this,u)}return!0},n.prototype.addListener=function(t,e){var i;if(!r(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned){var i;i=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,i,s,u;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],s=n.length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(u=s;u-->0;)if(n[u]===e||n[u].listener&&n[u].listener===e){i=u;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?r(t._events[e])?1:t._events[e].length:0}},{}],4:[function(t,e){function n(){function t(){function t(n){function l(t){var e=s(t,/([\.#]?[a-zA-Z0-9_:-]+)/);/^\.|#/.test(e[1])&&(a=document.createElement("div")),i(e,function(t){var e=t.substring(1,t.length);t&&(a?"."===t[0]?u(a).add(e):"#"===t[0]&&a.setAttribute("id",e):a=document.createElement(t))})}var f;if(null==n);else if("string"==typeof n)a?a.appendChild(f=document.createTextNode(n)):l(n);else if("number"==typeof n||"boolean"==typeof n||n instanceof Date||n instanceof RegExp)a.appendChild(f=document.createTextNode(n.toString()));else if(o(n))i(n,t);else if(r(n))a.appendChild(f=n);else if(n instanceof Text)a.appendChild(f=n);else if("object"==typeof n)for(var h in n)if("function"==typeof n[h])/^on\w+/.test(h)?a.addEventListener?(a.addEventListener(h.substring(2),n[h],!1),e.push(function(){a.removeEventListener(h.substring(2),n[h],!1)})):(a.attachEvent(h,n[h]),e.push(function(){a.detachEvent(h,n[h])})):(a[h]=n[h](),e.push(n[h](function(t){a[h]=t})));else if("style"===h)if("string"==typeof n[h])a.style.cssText=n[h];else for(var p in n[h])(function(t,r){"function"==typeof r?(a.style.setProperty(t,r()),e.push(r(function(e){a.style.setProperty(t,e)}))):a.style.setProperty(t,n[h][t])})(p,n[h][p]);else"data-"===h.substr(0,5)?c(a)[h.substr(5)]=n[h]:a[h]=n[h];else if("function"==typeof n){var d=n();a.appendChild(f=r(d)?d:document.createTextNode(d)),e.push(n(function(t){r(t)&&f.parentElement?(f.parentElement.replaceChild(t,f),f=t):f.textContent=t}))}return f}for(var n=[].slice.call(arguments),a=null;n.length;)t(n.shift());return a}var e=[];return t.cleanup=function(){for(var t=0;t<e.length;t++)e[t]()},t}function r(t){return t&&t.nodeName&&t.nodeType}function i(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e(t[n],n)}function o(t){return"[object Array]"==Object.prototype.toString.call(t)}var s=t("browser-split"),u=t("class-list"),c=t("data-set");t("html-element");var a=e.exports=n();a.context=n},{"browser-split":5,"class-list":6,"data-set":8,"html-element":2}],5:[function(t,e){e.exports=function(t){var e,n=String.prototype.split,r=/()??/.exec("")[1]===t;return e=function(e,i,o){if("[object RegExp]"!==Object.prototype.toString.call(i))return n.call(e,i,o);var s,u,c,a,l=[],f=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.extended?"x":"")+(i.sticky?"y":""),h=0,i=new RegExp(i.source,f+"g");for(e+="",r||(s=new RegExp("^"+i.source+"$(?!\\s)",f)),o=o===t?-1>>>0:o>>>0;(u=i.exec(e))&&(c=u.index+u[0].length,!(c>h&&(l.push(e.slice(h,u.index)),!r&&u.length>1&&u[0].replace(s,function(){for(var e=1;e<arguments.length-2;e++)arguments[e]===t&&(u[e]=t)}),u.length>1&&u.index<e.length&&Array.prototype.push.apply(l,u.slice(1)),a=u[0].length,h=c,l.length>=o)));)i.lastIndex===u.index&&i.lastIndex++;return h===e.length?(a||!i.test(""))&&l.push(""):l.push(e.slice(h)),l.length>o?l.slice(0,o):l}}()},{}],6:[function(t,e){function n(t){function e(t){var e=l();o(e,t)>-1||(e.push(t),f(e))}function n(t){var e=l(),n=o(e,t);-1!==n&&(e.splice(n,1),f(e))}function s(t){return o(l(),t)>-1}function u(t){return s(t)?(n(t),!1):(e(t),!0)}function c(){return t.className}function a(t){var e=l();return e[t]||null}function l(){var e=t.className;return r(e.split(" "),i)}function f(e){var n=e.length;t.className=e.join(" "),p.length=n;for(var r=0;r<e.length;r++)p[r]=e[r];delete e[n]}var h=t.classList;if(h)return h;var p={add:e,remove:n,contains:s,toggle:u,toString:c,length:0,item:a};return p}function r(t,e){for(var n=[],r=0;r<t.length;r++)e(t[r])&&n.push(t[r]);return n}function i(t){return!!t}var o=t("indexof");e.exports=n},{indexof:7}],7:[function(t,e){var n=[].indexOf;e.exports=function(t,e){if(n)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}},{}],8:[function(t,e){function n(t){if(t.dataset)return t.dataset;var e=s.get(t);return e||(e=r(t),s.set(t,e)),e}function r(t){var e=t.attributes,n={};if(null===e||void 0===e)return n;for(var r=0;r<e.length;r++){var i=e[r];"data-"===i.name.substr(0,5)&&(n[i.name.substr(5)]=i.value)}return n}var i=t("weakmap"),o=t("individual"),s=o("__DATA_SET_WEAKMAP",i());e.exports=n},{individual:9,weakmap:11}],9:[function(t,e){function n(t,e){return r[t]?r[t]:(Object.defineProperty(r,t,{value:e,configurable:!0}),e)}var r=t("global");e.exports=n},{global:10}],10:[function(t,e){"undefined"!=typeof global?e.exports=global:"undefined"!=typeof window&&(e.exports=window)},{}],11:[function(t,e,n){void function(t,r,i){function o(t,e,n){return"function"==typeof e&&(n=e,e=s(n).replace(/_$/,"")),a(t,e,{configurable:!0,writable:!0,value:n})}function s(t){return"function"!=typeof t?"":"name"in t?t.name:l.call(t).match(p)[1]}function u(t){function e(e,r){return r||2===arguments.length?n.set(e,r):(r=n.get(e),r===i&&(r=t(e),n.set(e,r))),r}var n=new v;return t||(t=b),e}var c=Object.getOwnPropertyNames,a=Object.defineProperty,l=Function.prototype.toString,f=Object.create,h=Object.prototype.hasOwnProperty,p=/^\n?function\s?(\w*)?_?\(/,d=function(){function t(){var t=s(),r={};this.unlock=function(i){var o=l(i);if(h.call(o,t))return o[t](r);var s=f(null,e);return a(o,t,{value:new Function("s","l",n)(r,s)}),s}}var e={value:{writable:!0,value:i}},n="return function(k){if(k===s)return l}",r=f(null),s=function(){var t=Math.random().toString(36).slice(2);return t in r?s():r[t]=t},u=s(),l=function(t){if(h.call(t,u))return t[u];if(!Object.isExtensible(t))throw new TypeError("Object must be extensible");var e=f(null);return a(t,u,{value:e}),e};return o(Object,function(t){var e=c(t);return h.call(t,u)&&e.splice(e.indexOf(u),1),e}),o(t.prototype,function(t){return this.unlock(t).value}),o(t.prototype,function(t,e){this.unlock(t).value=e}),t}(),v=function(e){function n(e){return this===t||null==this||this===n.prototype?new n(e):(p(this,new d),void b(this,e))}function u(t){h(t);var e=v(this).get(t);return e===r?i:e}function c(t,e){h(t),v(this).set(t,e===i?r:e)}function a(t){return h(t),v(this).get(t)!==i}function l(t){h(t);var e=v(this),n=e.get(t)!==i;return e.set(t,i),n}function f(){return v(this),"[object WeakMap]"}var h=function(t){if(null==t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Invalid WeakMap key")},p=function(t,n){var r=e.unlock(t);if(r.value)throw new TypeError("Object is already a WeakMap");r.value=n},v=function(t){var n=e.unlock(t).value;if(!n)throw new TypeError("WeakMap is not generic");return n},b=function(t,e){null!==e&&"object"==typeof e&&"function"==typeof e.forEach&&e.forEach(function(n,r){n instanceof Array&&2===n.length&&c.call(t,e[r][0],e[r][1])})};try{var m=("return "+l).replace("e_","\\u0065"),g=new Function("unwrap","validate",m)(v,h)}catch(y){var g=l}var m=(""+Object).split("Object"),w=function(){return m[0]+s(this)+m[1]};o(w,w);var x={__proto__:[]}instanceof Array?function(t){t.__proto__=w}:function(t){o(t,w)};return x(n),[f,u,c,a,g].forEach(function(t){o(n.prototype,t),x(t)}),n}(new d),b=Object.create?function(){return Object.create(null)}:function(){return{}};"undefined"!=typeof e?e.exports=v:"undefined"!=typeof n?n.WeakMap=v:"WeakMap"in t||(t.WeakMap=v),v.createStorage=u,t.WeakMap&&(t.WeakMap.createStorage=u)}((0,eval)("this"))},{}],12:[function(t,e){e.exports={name:"rxmarbles",version:"1.0.0",author:"Andre Staltz",repository:{type:"git",url:"git@github.com:staltz/rxmarbles.git"},license:"BSD 3-Clause",main:"js/app.js",dependencies:{rx:"~2.2.28","virtual-dom":"0.0.19","virtual-hyperscript":"4.4.0",hyperscript:"1.4.0"},devDependencies:{browserify:"~2.36.0",coffeeify:"~0.6.0",gulp:"~3.8.6","gulp-browserify":"^0.5.0","gulp-coffee":"^2.1.1","gulp-less":"^1.3.2","gulp-rimraf":"^0.1.0","gulp-uglify":"^0.3.1","gulp-util":"^2.2.20","uglify-js":"~2.4.13",watchify:"~0.4.1"},scripts:{preinstall:"rm -rf build && rm -rf node_modules",postinstall:"mkdir build && mkdir build/src && ln -s ../build/src node_modules/rxmarbles && ln -s ../package.json node_modules/package.json","update-gh-pages":"git checkout gh-pages && git merge master && rm dist/js/app.js && gulp build && git add dist/js/app.js && git commit --amend --no-edit && git push origin gh-pages && git checkout master"}}},{}],13:[function(t,e,n){(function(t){function r(){if(this.isDisposed)throw new Error(pe)}function i(t){var e=typeof t;return t&&("function"==e||"object"==e)||!1}function o(t){var e=[];if(!i(t))return e;Pe.nonEnumArgs&&t.length&&a(t)&&(t=Ve.call(t));var n=Pe.enumPrototypes&&"function"==typeof t,r=Pe.enumErrorProps&&(t===De||t instanceof Error);for(var o in t)n&&"prototype"==o||r&&("message"==o||"name"==o)||e.push(o);if(Pe.nonEnumShadows&&t!==_e){var s=t.constructor,u=-1,c=Te.length;if(t===(s&&s.prototype))var l=t===stringProto?ke:t===De?xe:Se.call(t),f=qe[l];for(;++u<c;)o=Te[u],f&&f[o]||!Ae.call(t,o)||e.push(o)}return e}function s(t,e,n){for(var r=-1,i=n(t),o=i.length;++r<o;){var s=i[r];if(e(t[s],s,t)===!1)break}return t}function u(t,e){return s(t,e,o)}function c(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}function a(t){return t&&"object"==typeof t?Se.call(t)==me:!1}function l(t){return"function"==typeof t||!1}function f(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;var i=typeof t,o=typeof e;if(t===t&&(null==t||null==e||"function"!=i&&"object"!=i&&"function"!=o&&"object"!=o))return!1;var s=Se.call(t),h=Se.call(e);if(s==me&&(s=Ne),h==me&&(h=Ne),s!=h)return!1;switch(s){case ye:case we:return+t==+e;case Ce:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case Oe:case ke:return t==String(e)}var p=s==ge;if(!p){if(s!=Ne||!Pe.nodeClass&&(c(t)||c(e)))return!1;var d=!Pe.argsObject&&a(t)?Object:t.constructor,v=!Pe.argsObject&&a(e)?Object:e.constructor;if(!(d==v||Ae.call(t,"constructor")&&Ae.call(e,"constructor")||l(d)&&d instanceof d&&l(v)&&v instanceof v||!("constructor"in t&&"constructor"in e)))return!1}n||(n=[]),r||(r=[]);for(var b=n.length;b--;)if(n[b]==t)return r[b]==e;var m=0;if(result=!0,n.push(t),r.push(e),p){if(b=t.length,m=e.length,result=m==b)for(;m--;){var g=e[m];if(!(result=f(t[m],g,n,r)))break}}else u(e,function(e,i,o){return Ae.call(o,i)?(m++,result=Ae.call(t,i)&&f(t[i],e,n,r)):void 0}),result&&u(t,function(t,e,n){return Ae.call(n,e)?result=--m>-1:void 0});return n.pop(),r.pop(),result}function h(t,e){return 1===t.length&&Array.isArray(t[e])?t[e]:Ve.call(t)}function p(t,e){for(var n=new Array(t),r=0;t>r;r++)n[r]=e();return n}function d(t,e){this.scheduler=t,this.disposable=e,this.isDisposed=!1}function v(t,e){return new ar(function(n){var r=new Qe,i=new Ze;return i.setDisposable(r),r.setDisposable(t.subscribe(n.onNext.bind(n),function(t){var r,o;try{o=e(t)}catch(s){return void n.onError(s)}le(o)&&(o=An(o)),r=new Qe,i.setDisposable(r),r.setDisposable(o.subscribe(n))},n.onCompleted.bind(n))),i})}function b(t,e){var n=this;return new ar(function(r){var i=0,o=t.length;return n.subscribe(function(n){if(o>i){var s,u=t[i++];try{s=e(n,u)}catch(c){return void r.onError(c)}r.onNext(s)}else r.onCompleted()},r.onError.bind(r),r.onCompleted.bind(r))})}function m(t){return this.map(function(e,n){var r=t(e,n);return le(r)?An(r):r}).concatAll()}function g(t){return this.select(function(e,n){var r=t(e,n);return le(r)?An(r):r}).mergeObservable()}function y(t,e,n){return new ar(function(r){var i=!1,o=null,s=[];return t.subscribe(function(t){var u,c;try{c=e(t)}catch(a){return void r.onError(a)}if(u=0,i)try{u=n(c,o)}catch(l){return void r.onError(l)}else i=!0,o=c;u>0&&(o=c,s=[]),u>=0&&s.push(t)},r.onError.bind(r),function(){r.onNext(s),r.onCompleted()})})}function w(t){if(0===t.length)throw new Error(fe);return t[0]}function x(t,e,n){return new ar(function(r){var i=0,o=e.length;return t.subscribe(function(t){var s=!1;try{o>i&&(s=n(t,e[i++]))}catch(u){return void r.onError(u)}s||(r.onNext(!1),r.onCompleted())},r.onError.bind(r),function(){r.onNext(i===o),r.onCompleted()})})}function E(t,e,n,r){if(0>e)throw new Error(he);return new ar(function(i){var o=e;return t.subscribe(function(t){0===o&&(i.onNext(t),i.onCompleted()),o--},i.onError.bind(i),function(){n?(i.onNext(r),i.onCompleted()):i.onError(new Error(he))})})}function C(t,e,n){return new ar(function(r){var i=n,o=!1;return t.subscribe(function(t){o?r.onError(new Error("Sequence contains more than one element")):(i=t,o=!0)},r.onError.bind(r),function(){o||e?(r.onNext(i),r.onCompleted()):r.onError(new Error(fe))})})}function N(t,e,n){return new ar(function(r){return t.subscribe(function(t){r.onNext(t),r.onCompleted()},r.onError.bind(r),function(){e?(r.onNext(n),r.onCompleted()):r.onError(new Error(fe))})})}function O(t,e,n){return new ar(function(r){var i=n,o=!1;return t.subscribe(function(t){i=t,o=!0},r.onError.bind(r),function(){o||e?(r.onNext(i),r.onCompleted()):r.onError(new Error(fe))})})}function k(e,n,r,i){return new ar(function(o){var s=0;return e.subscribe(function(t){var u;try{u=n.call(r,t,s,e)}catch(c){return void o.onError(c)}u?(o.onNext(i?s:t),o.onCompleted()):s++},o.onError.bind(o),function(){o.onNext(i?-1:t),o.onCompleted()})})}function S(t,e,n){if(t.addListener)return t.addListener(e,n),Ge(function(){t.removeListener(e,n)});if(t.addEventListener)return t.addEventListener(e,n,!1),Ge(function(){t.removeEventListener(e,n,!1)});throw new Error("No listener found")}function A(t,e,n){var r=new Fe;if("function"==typeof t.item&&"number"==typeof t.length)for(var i=0,o=t.length;o>i;i++)r.add(A(t.item(i),e,n));else t&&r.add(S(t,e,n));return r}function j(t,e,n){return new ar(function(r){function i(t,e){a[e]=t;var i;if(s[e]=!0,u||(u=s.every(ie))){try{i=n.apply(null,a)}catch(o){return void r.onError(o)}r.onNext(i)}else c&&r.onCompleted()}var o=2,s=[!1,!1],u=!1,c=!1,a=new Array(o);return new Fe(t.subscribe(function(t){i(t,0)},r.onError.bind(r),function(){c=!0,r.onCompleted()}),e.subscribe(function(t){i(t,1)},r.onError.bind(r)))})}function D(t){if(t&!1)return 2===t;for(var e=Math.sqrt(t),n=3;e>=n;){if(t%n===0)return!1;n+=2}return!0}function _(t){var e,n,r;for(e=0;e<Zn.length;++e)if(n=Zn[e],n>=t)return n;for(r=1|t;r<Zn[Zn.length-1];){if(D(r))return r;r+=2}return t}function W(t){var e=757602046;if(!t.length)return e;for(var n=0,r=t.length;r>n;n++){var i=t.charCodeAt(n);e=(e<<5)-e+i,e&=e}return e}function R(t){var e=668265261;return t=61^t^t>>>16,t+=t<<3,t^=t>>>4,t*=e,t^=t>>>15}function T(){return{key:null,value:null,next:0,hashCode:0}}function q(t,e){return t.groupJoin(this,e,function(){return Dn()},function(t,e){return e})}function P(t){var e=this;return new ar(function(n){var r=new hr,i=new Fe,o=new Ye(i);return n.onNext(Ue(r,o)),i.add(e.subscribe(function(t){r.onNext(t)},function(t){r.onError(t),n.onError(t)},function(){r.onCompleted(),n.onCompleted()})),i.add(t.subscribe(function(){r.onCompleted(),r=new hr,n.onNext(Ue(r,o))},function(t){r.onError(t),n.onError(t)},function(){r.onCompleted(),n.onCompleted()})),o})}function L(t){var e=this;return new ar(function(n){var r,i=new Ze,o=new Fe(i),s=new Ye(o),u=new hr;return n.onNext(Ue(u,s)),o.add(e.subscribe(function(t){u.onNext(t)},function(t){u.onError(t),n.onError(t)},function(){u.onCompleted(),n.onCompleted()})),r=function(){var e,o;try{o=t()}catch(c){return void n.onError(c)}e=new Qe,i.setDisposable(e),e.setDisposable(o.take(1).subscribe(re,function(t){u.onError(t),n.onError(t)},function(){u.onCompleted(),u=new hr,n.onNext(Ue(u,s)),r()}))},r(),s})}function V(e,n){return new bn(function(){return new vn(function(){return e()?{done:!1,value:n}:{done:!0,value:t}})})}function M(t){this.patterns=t}function z(t,e){this.expression=t,this.selector=e}function U(t,e,n){var r=t.get(e);if(!r){var i=new sr(e,n);return t.set(e,i),i}return r}function I(t,e,n){var r,i;for(this.joinObserverArray=t,this.onNext=e,this.onCompleted=n,this.joinObservers=new or,r=0;r<this.joinObserverArray.length;r++)i=this.joinObserverArray[r],this.joinObservers.set(i,i)}function B(t,e){return new ar(function(n){return e.scheduleWithAbsolute(t,function(){n.onNext(0),n.onCompleted()})})}function H(t,e,n){var r=rn(e);return new ar(function(e){var i=0,o=t;return n.scheduleRecursiveWithAbsolute(o,function(t){var s;r>0&&(s=n.now(),o+=r,s>=o&&(o=s+r)),e.onNext(i++),t(o)})})}function F(t,e){var n=rn(t);return new ar(function(t){return e.scheduleWithRelative(n,function(){t.onNext(0),t.onCompleted()})})}function $(t,e,n){return t===e?new ar(function(t){return n.schedulePeriodicWithState(0,e,function(e){return t.onNext(e),e+1})}):jn(function(){return H(n.now()+t,e,n)})}function J(t,e){var n=this;return new ar(function(r){var i,o=!1,s=new Ze,u=null,c=[],a=!1;return i=n.materialize().timestamp(e).subscribe(function(n){var i,l;"E"===n.value.kind?(c=[],c.push(n),u=n.value.exception,l=!a):(c.push({value:n.value,timestamp:n.timestamp+t}),l=!o,o=!0),l&&(null!==u?r.onError(u):(i=new Qe,s.setDisposable(i),i.setDisposable(e.scheduleRecursiveWithRelative(t,function(t){var n,i,s,l;if(null===u){a=!0;do s=null,c.length>0&&c[0].timestamp-e.now()<=0&&(s=c.shift().value),null!==s&&s.accept(r);while(null!==s);l=!1,i=0,c.length>0?(l=!0,i=Math.max(0,c[0].timestamp-e.now())):o=!1,n=u,a=!1,null!==n?r.onError(n):l&&t(i)}}))))}),new Fe(i,s)})}function G(t,e){var n=this;return jn(function(){var r=t-e.now();return J.call(n,r,e)})}function X(t,e){return new ar(function(n){function r(){s&&(s=!1,n.onNext(o)),i&&n.onCompleted()}var i,o,s;return new Fe(t.subscribe(function(t){s=!0,o=t},n.onError.bind(n),function(){i=!0}),e.subscribe(r,n.onError.bind(n),r))})}var K={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},Q=K[typeof window]&&window||this,Z=K[typeof n]&&n&&!n.nodeType&&n,Y=K[typeof e]&&e&&!e.nodeType&&e,te=Y&&Y.exports===Z&&Z,ee=K[typeof global]&&global;!ee||ee.global!==ee&&ee.window!==ee||(Q=ee);var ne={internals:{},config:{Promise:Q.Promise},helpers:{}},re=ne.helpers.noop=function(){},ie=ne.helpers.identity=function(t){return t},oe=(ne.helpers.pluck=function(t){return function(e){return e[t]}},ne.helpers.just=function(t){return function(){return t}},ne.helpers.defaultNow=Date.now),se=ne.helpers.defaultComparer=function(t,e){return Le(t,e)},ue=ne.helpers.defaultSubComparer=function(t,e){return t>e?1:e>t?-1:0},ce=ne.helpers.defaultKeySerializer=function(t){return t.toString()},ae=ne.helpers.defaultError=function(t){throw t},le=ne.helpers.isPromise=function(t){return!!t&&"function"==typeof t.then&&t.then!==ne.Observable.prototype.then},fe=(ne.helpers.asArray=function(){return Array.prototype.slice.call(arguments)},ne.helpers.not=function(t){return!t},"Sequence contains no elements."),he="Argument out of range",pe="Object has been disposed",de="object"==typeof Symbol&&Symbol.iterator||"_es6shim_iterator_";Q.Set&&"function"==typeof(new Q.Set)["@@iterator"]&&(de="@@iterator");var ve,be={done:!0,value:t},me="[object Arguments]",ge="[object Array]",ye="[object Boolean]",we="[object Date]",xe="[object Error]",Ee="[object Function]",Ce="[object Number]",Ne="[object Object]",Oe="[object RegExp]",ke="[object String]",Se=Object.prototype.toString,Ae=Object.prototype.hasOwnProperty,je=Se.call(arguments)==me,De=Error.prototype,_e=Object.prototype,We=_e.propertyIsEnumerable;try{ve=!(Se.call(document)==Ne&&!({toString:0}+""))}catch(Re){ve=!0}var Te=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],qe={};qe[ge]=qe[we]=qe[Ce]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},qe[ye]=qe[ke]={constructor:!0,toString:!0,valueOf:!0},qe[xe]=qe[Ee]=qe[Oe]={constructor:!0,toString:!0},qe[Ne]={constructor:!0};var Pe={};!function(){var t=function(){this.x=1},e=[];t.prototype={valueOf:1,y:1};for(var n in new t)e.push(n);for(n in arguments);Pe.enumErrorProps=We.call(De,"message")||We.call(De,"name"),Pe.enumPrototypes=We.call(t,"prototype"),Pe.nonEnumArgs=0!=n,Pe.nonEnumShadows=!/valueOf/.test(e)}(1),je||(a=function(t){return t&&"object"==typeof t?Ae.call(t,"callee"):!1}),l(/x/)&&(l=function(t){return"function"==typeof t&&Se.call(t)==Ee});var Le=ne.internals.isEqual=function(t,e){return f(t,e,[],[])},Ve=Array.prototype.slice,Me=({}.hasOwnProperty,this.inherits=ne.internals.inherits=function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}),ze=ne.internals.addProperties=function(t){for(var e=Ve.call(arguments,1),n=0,r=e.length;r>n;n++){var i=e[n];for(var o in i)t[o]=i[o]}},Ue=ne.internals.addRef=function(t,e){return new ar(function(n){return new Fe(e.getDisposable(),t.subscribe(n))})},Ie=function(t,e){this.id=t,this.value=e};Ie.prototype.compareTo=function(t){var e=this.value.compareTo(t.value);return 0===e&&(e=this.id-t.id),e};var Be=ne.internals.PriorityQueue=function(t){this.items=new Array(t),this.length=0},He=Be.prototype;He.isHigherPriority=function(t,e){return this.items[t].compareTo(this.items[e])<0},He.percolate=function(t){if(!(t>=this.length||0>t)){var e=t-1>>1;if(!(0>e||e===t)&&this.isHigherPriority(t,e)){var n=this.items[t];this.items[t]=this.items[e],this.items[e]=n,this.percolate(e)}}},He.heapify=function(e){if(e===t&&(e=0),!(e>=this.length||0>e)){var n=2*e+1,r=2*e+2,i=e;if(n<this.length&&this.isHigherPriority(n,i)&&(i=n),r<this.length&&this.isHigherPriority(r,i)&&(i=r),i!==e){var o=this.items[e];this.items[e]=this.items[i],this.items[i]=o,this.heapify(i)}}},He.peek=function(){return this.items[0].value},He.removeAt=function(t){this.items[t]=this.items[--this.length],delete this.items[this.length],this.heapify()},He.dequeue=function(){var t=this.peek();return this.removeAt(0),t},He.enqueue=function(t){var e=this.length++;this.items[e]=new Ie(Be.count++,t),this.percolate(e)},He.remove=function(t){for(var e=0;e<this.length;e++)if(this.items[e].value===t)return this.removeAt(e),!0;return!1},Be.count=0;var Fe=ne.CompositeDisposable=function(){this.disposables=h(arguments,0),this.isDisposed=!1,this.length=this.disposables.length},$e=Fe.prototype;$e.add=function(t){this.isDisposed?t.dispose():(this.disposables.push(t),this.length++)},$e.remove=function(t){var e=!1;if(!this.isDisposed){var n=this.disposables.indexOf(t);-1!==n&&(e=!0,this.disposables.splice(n,1),this.length--,t.dispose())}return e},$e.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this.disposables.slice(0);this.disposables=[],this.length=0;for(var e=0,n=t.length;n>e;e++)t[e].dispose()}},$e.clear=function(){var t=this.disposables.slice(0);this.disposables=[],this.length=0;for(var e=0,n=t.length;n>e;e++)t[e].dispose()},$e.contains=function(t){return-1!==this.disposables.indexOf(t)},$e.toArray=function(){return this.disposables.slice(0)};var Je=ne.Disposable=function(t){this.isDisposed=!1,this.action=t||re};Je.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)};var Ge=Je.create=function(t){return new Je(t)},Xe=Je.empty={dispose:re},Ke=function(){function t(t){this.isSingle=t,this.isDisposed=!1,this.current=null}var e=t.prototype;return e.getDisposable=function(){return this.current},e.setDisposable=function(t){if(this.current&&this.isSingle)throw new Error("Disposable has already been assigned");var e,n=this.isDisposed;n||(e=this.current,this.current=t),e&&e.dispose(),n&&t&&t.dispose()},e.dispose=function(){var t;this.isDisposed||(this.isDisposed=!0,t=this.current,this.current=null),t&&t.dispose()},t}(),Qe=ne.SingleAssignmentDisposable=function(t){function e(){t.call(this,!0)}return Me(e,t),e}(Ke),Ze=ne.SerialDisposable=function(t){function e(){t.call(this,!1)}return Me(e,t),e}(Ke),Ye=ne.RefCountDisposable=function(){function t(t){this.disposable=t,this.disposable.count++,this.isInnerDisposed=!1}function e(t){this.underlyingDisposable=t,this.isDisposed=!1,this.isPrimaryDisposed=!1,this.count=0}return t.prototype.dispose=function(){this.disposable.isDisposed||this.isInnerDisposed||(this.isInnerDisposed=!0,this.disposable.count--,0===this.disposable.count&&this.disposable.isPrimaryDisposed&&(this.disposable.isDisposed=!0,this.disposable.underlyingDisposable.dispose()))},e.prototype.dispose=function(){this.isDisposed||this.isPrimaryDisposed||(this.isPrimaryDisposed=!0,0===this.count&&(this.isDisposed=!0,this.underlyingDisposable.dispose()))},e.prototype.getDisposable=function(){return this.isDisposed?Xe:new t(this)},e}();d.prototype.dispose=function(){var t=this;this.scheduler.schedule(function(){t.isDisposed||(t.isDisposed=!0,t.disposable.dispose())})};var tn=ne.internals.ScheduledItem=function(t,e,n,r,i){this.scheduler=t,this.state=e,this.action=n,this.dueTime=r,this.comparer=i||ue,this.disposable=new Qe};tn.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())},tn.prototype.compareTo=function(t){return this.comparer(this.dueTime,t.dueTime)},tn.prototype.isCancelled=function(){return this.disposable.isDisposed},tn.prototype.invokeCore=function(){return this.action(this.scheduler,this.state)};var en,nn=ne.Scheduler=function(){function t(t,e,n,r){this.now=t,this._schedule=e,this._scheduleRelative=n,this._scheduleAbsolute=r}function e(t,e){var n=e.first,r=e.second,i=new Fe,o=function(e){r(e,function(e){var n=!1,r=!1,s=t.scheduleWithState(e,function(t,e){return n?i.remove(s):r=!0,o(e),Xe});r||(i.add(s),n=!0)})};return o(n),i}function n(t,e,n){var r=e.first,i=e.second,o=new Fe,s=function(e){i(e,function(e,r){var i=!1,u=!1,c=t[n].call(t,e,r,function(t,e){return i?o.remove(c):u=!0,s(e),Xe});u||(o.add(c),i=!0)})};return s(r),o}function r(t,e){return e(),Xe}var i=t.prototype;return i.catchException=i["catch"]=function(t){return new ln(this,t)},i.schedulePeriodic=function(t,e){return this.schedulePeriodicWithState(null,t,function(){e()})},i.schedulePeriodicWithState=function(t,e,n){var r=t,i=setInterval(function(){r=n(r)},e);return Ge(function(){clearInterval(i)})},i.schedule=function(t){return this._schedule(t,r)},i.scheduleWithState=function(t,e){return this._schedule(t,e)},i.scheduleWithRelative=function(t,e){return this._scheduleRelative(e,t,r)},i.scheduleWithRelativeAndState=function(t,e,n){return this._scheduleRelative(t,e,n)},i.scheduleWithAbsolute=function(t,e){return this._scheduleAbsolute(e,t,r)},i.scheduleWithAbsoluteAndState=function(t,e,n){return this._scheduleAbsolute(t,e,n)},i.scheduleRecursive=function(t){return this.scheduleRecursiveWithState(t,function(t,e){t(function(){e(t)})})},i.scheduleRecursiveWithState=function(t,n){return this.scheduleWithState({first:t,second:n},function(t,n){return e(t,n)})},i.scheduleRecursiveWithRelative=function(t,e){return this.scheduleRecursiveWithRelativeAndState(e,t,function(t,e){t(function(n){e(t,n)})})},i.scheduleRecursiveWithRelativeAndState=function(t,e,r){return this._scheduleRelative({first:t,second:r},e,function(t,e){return n(t,e,"scheduleWithRelativeAndState")})},i.scheduleRecursiveWithAbsolute=function(t,e){return this.scheduleRecursiveWithAbsoluteAndState(e,t,function(t,e){t(function(n){e(t,n)})})},i.scheduleRecursiveWithAbsoluteAndState=function(t,e,r){return this._scheduleAbsolute({first:t,second:r},e,function(t,e){return n(t,e,"scheduleWithAbsoluteAndState")})},t.now=oe,t.normalize=function(t){return 0>t&&(t=0),t},t}(),rn=nn.normalize,on=ne.internals.SchedulePeriodicRecursive=function(){function t(t,e){e(0,this._period);try{this._state=this._action(this._state)}catch(n){throw this._cancel.dispose(),n}}function e(t,e,n,r){this._scheduler=t,this._state=e,this._period=n,this._action=r}return e.prototype.start=function(){var e=new Qe;return this._cancel=e,e.setDisposable(this._scheduler.scheduleRecursiveWithRelativeAndState(0,this._period,t.bind(this))),e},e}(),sn=nn.immediate=function(){function t(t,e){return e(this,t)}function e(t,e,n){for(var r=rn(r);r-this.now()>0;);return n(this,t)}function n(t,e,n){return this.scheduleWithRelativeAndState(t,e-this.now(),n)}return new nn(oe,t,e,n)}(),un=nn.currentThread=function(){function t(t){for(var e;t.length>0;)if(e=t.dequeue(),!e.isCancelled()){for(;e.dueTime-nn.now()>0;);e.isCancelled()||e.invoke()
}}function e(t,e){return this.scheduleWithRelativeAndState(t,0,e)}function n(e,n,r){var o=this.now()+nn.normalize(n),s=new tn(this,e,r,o);if(i)i.enqueue(s);else{i=new Be(4),i.enqueue(s);try{t(i)}catch(u){throw u}finally{i=null}}return s.disposable}function r(t,e,n){return this.scheduleWithRelativeAndState(t,e-this.now(),n)}var i,o=new nn(oe,e,n,r);return o.scheduleRequired=function(){return null===i},o.ensureTrampoline=function(t){return null===i?this.schedule(t):t()},o}(),cn=re;!function(){function t(){if(!Q.postMessage||Q.importScripts)return!1;var t=!1,e=Q.onmessage;return Q.onmessage=function(){t=!0},Q.postMessage("","*"),Q.onmessage=e,t}function e(t){if("string"==typeof t.data&&t.data.substring(0,o.length)===o){var e=t.data.substring(o.length),n=s[e];n(),delete s[e]}}var n=RegExp("^"+String(Se).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),r="function"==typeof(r=ee&&te&&ee.setImmediate)&&!n.test(r)&&r,i="function"==typeof(i=ee&&te&&ee.clearImmediate)&&!n.test(i)&&i;if("undefined"!=typeof process&&"[object process]"==={}.toString.call(process))en=process.nextTick;else if("function"==typeof r)en=r,cn=i;else if(t()){var o="ms.rx.schedule"+Math.random(),s={},u=0;Q.addEventListener?Q.addEventListener("message",e,!1):Q.attachEvent("onmessage",e,!1),en=function(t){var e=u++;s[e]=t,Q.postMessage(o+e,"*")}}else if(Q.MessageChannel){var c=new Q.MessageChannel,a={},l=0;c.port1.onmessage=function(t){var e=t.data,n=a[e];n(),delete a[e]},en=function(t){var e=l++;a[e]=t,c.port2.postMessage(e)}}else"document"in Q&&"onreadystatechange"in Q.document.createElement("script")?en=function(t){var e=Q.document.createElement("script");e.onreadystatechange=function(){t(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},Q.document.documentElement.appendChild(e)}:(en=function(t){return setTimeout(t,0)},cn=clearTimeout)}();var an=nn.timeout=function(){function t(t,e){var n=this,r=new Qe,i=en(function(){r.isDisposed||r.setDisposable(e(n,t))});return new Fe(r,Ge(function(){cn(i)}))}function e(t,e,n){var r=this,i=nn.normalize(e);if(0===i)return r.scheduleWithState(t,n);var o=new Qe,s=setTimeout(function(){o.isDisposed||o.setDisposable(n(r,t))},i);return new Fe(o,Ge(function(){clearTimeout(s)}))}function n(t,e,n){return this.scheduleWithRelativeAndState(t,e-this.now(),n)}return new nn(oe,t,e,n)}(),ln=function(t){function e(){return this._scheduler.now()}function n(t,e){return this._scheduler.scheduleWithState(t,this._wrap(e))}function r(t,e,n){return this._scheduler.scheduleWithRelativeAndState(t,e,this._wrap(n))}function i(t,e,n){return this._scheduler.scheduleWithAbsoluteAndState(t,e,this._wrap(n))}function o(o,s){this._scheduler=o,this._handler=s,this._recursiveOriginal=null,this._recursiveWrapper=null,t.call(this,e,n,r,i)}return Me(o,t),o.prototype._clone=function(t){return new o(t,this._handler)},o.prototype._wrap=function(t){var e=this;return function(n,r){try{return t(e._getRecursiveWrapper(n),r)}catch(i){if(!e._handler(i))throw i;return Xe}}},o.prototype._getRecursiveWrapper=function(t){if(this._recursiveOriginal!==t){this._recursiveOriginal=t;var e=this._clone(t);e._recursiveOriginal=t,e._recursiveWrapper=e,this._recursiveWrapper=e}return this._recursiveWrapper},o.prototype.schedulePeriodicWithState=function(t,e,n){var r=this,i=!1,o=new Qe;return o.setDisposable(this._scheduler.schedulePeriodicWithState(t,e,function(t){if(i)return null;try{return n(t)}catch(e){if(i=!0,!r._handler(e))throw e;return o.dispose(),null}})),o},o}(nn),fn=ne.Notification=function(){function t(t,e){this.hasValue=null==e?!1:e,this.kind=t}var e=t.prototype;return e.accept=function(t,e,n){return 1===arguments.length&&"object"==typeof t?this._acceptObservable(t):this._accept(t,e,n)},e.toObservable=function(t){var e=this;return t||(t=sn),new ar(function(n){return t.schedule(function(){e._acceptObservable(n),"N"===e.kind&&n.onCompleted()})})},t}(),hn=fn.createOnNext=function(){function t(t){return t(this.value)}function e(t){return t.onNext(this.value)}function n(){return"OnNext("+this.value+")"}return function(r){var i=new fn("N",!0);return i.value=r,i._accept=t,i._acceptObservable=e,i.toString=n,i}}(),pn=fn.createOnError=function(){function t(t,e){return e(this.exception)}function e(t){return t.onError(this.exception)}function n(){return"OnError("+this.exception+")"}return function(r){var i=new fn("E");return i.exception=r,i._accept=t,i._acceptObservable=e,i.toString=n,i}}(),dn=fn.createOnCompleted=function(){function t(t,e,n){return n()}function e(t){return t.onCompleted()}function n(){return"OnCompleted()"}return function(){var r=new fn("C");return r._accept=t,r._acceptObservable=e,r.toString=n,r}}(),vn=ne.internals.Enumerator=function(t){this._next=t};vn.prototype.next=function(){return this._next()},vn.prototype[de]=function(){return this};var bn=ne.internals.Enumerable=function(t){this._iterator=t};bn.prototype[de]=function(){return this._iterator()},bn.prototype.concat=function(){var t=this;return new ar(function(e){var n;try{n=t[de]()}catch(r){return void e.onError()}var i,o=new Ze,s=sn.scheduleRecursive(function(t){var r;if(!i){try{r=n.next()}catch(s){return void e.onError(s)}if(r.done)return void e.onCompleted();var u=r.value;le(u)&&(u=An(u));var c=new Qe;o.setDisposable(c),c.setDisposable(u.subscribe(e.onNext.bind(e),e.onError.bind(e),function(){t()}))}});return new Fe(o,s,Ge(function(){i=!0}))})},bn.prototype.catchException=function(){var t=this;return new ar(function(e){var n;try{n=t[de]()}catch(r){return void e.onError()}var i,o,s=new Ze,u=sn.scheduleRecursive(function(t){if(!i){var r;try{r=n.next()}catch(u){return void e.onError(u)}if(r.done)return void(o?e.onError(o):e.onCompleted());var c=r.value;le(c)&&(c=An(c));var a=new Qe;s.setDisposable(a),a.setDisposable(c.subscribe(e.onNext.bind(e),function(e){o=e,t()},e.onCompleted.bind(e)))}});return new Fe(s,u,Ge(function(){i=!0}))})};var mn=bn.repeat=function(t,e){return null==e&&(e=-1),new bn(function(){var n=e;return new vn(function(){return 0===n?be:(n>0&&n--,{done:!1,value:t})})})},gn=bn.forEach=function(t,e,n){return e||(e=ie),new bn(function(){var r=-1;return new vn(function(){return++r<t.length?{done:!1,value:e.call(n,t[r],r,t)}:be})})},yn=ne.Observer=function(){};yn.prototype.toNotifier=function(){var t=this;return function(e){return e.accept(t)}},yn.prototype.asObserver=function(){return new Cn(this.onNext.bind(this),this.onError.bind(this),this.onCompleted.bind(this))},yn.prototype.checked=function(){return new Nn(this)};var wn=yn.create=function(t,e,n){return t||(t=re),e||(e=ae),n||(n=re),new Cn(t,e,n)};yn.fromNotifier=function(t){return new Cn(function(e){return t(hn(e))},function(e){return t(pn(e))},function(){return t(dn())})},yn.notifyOn=function(t){return new kn(t,this)};var xn,En=ne.internals.AbstractObserver=function(t){function e(){this.isStopped=!1,t.call(this)}return Me(e,t),e.prototype.onNext=function(t){this.isStopped||this.next(t)},e.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.error(t))},e.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.completed())},e.prototype.dispose=function(){this.isStopped=!0},e.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.error(t),!0)},e}(yn),Cn=ne.AnonymousObserver=function(t){function e(e,n,r){t.call(this),this._onNext=e,this._onError=n,this._onCompleted=r}return Me(e,t),e.prototype.next=function(t){this._onNext(t)},e.prototype.error=function(t){this._onError(t)},e.prototype.completed=function(){this._onCompleted()},e}(En),Nn=function(t){function e(e){t.call(this),this._observer=e,this._state=0}Me(e,t);var n=e.prototype;return n.onNext=function(t){this.checkAccess();try{this._observer.onNext(t)}catch(e){throw e}finally{this._state=0}},n.onError=function(t){this.checkAccess();try{this._observer.onError(t)}catch(e){throw e}finally{this._state=2}},n.onCompleted=function(){this.checkAccess();try{this._observer.onCompleted()}catch(t){throw t}finally{this._state=2}},n.checkAccess=function(){if(1===this._state)throw new Error("Re-entrancy detected");if(2===this._state)throw new Error("Observer completed");0===this._state&&(this._state=1)},e}(yn),On=ne.internals.ScheduledObserver=function(t){function e(e,n){t.call(this),this.scheduler=e,this.observer=n,this.isAcquired=!1,this.hasFaulted=!1,this.queue=[],this.disposable=new Ze}return Me(e,t),e.prototype.next=function(t){var e=this;this.queue.push(function(){e.observer.onNext(t)})},e.prototype.error=function(t){var e=this;this.queue.push(function(){e.observer.onError(t)})},e.prototype.completed=function(){var t=this;this.queue.push(function(){t.observer.onCompleted()})},e.prototype.ensureActive=function(){var t=!1,e=this;!this.hasFaulted&&this.queue.length>0&&(t=!this.isAcquired,this.isAcquired=!0),t&&this.disposable.setDisposable(this.scheduler.scheduleRecursive(function(t){var n;if(!(e.queue.length>0))return void(e.isAcquired=!1);n=e.queue.shift();try{n()}catch(r){throw e.queue=[],e.hasFaulted=!0,r}t()}))},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.disposable.dispose()},e}(En),kn=function(t){function e(){t.apply(this,arguments)}return Me(e,t),e.prototype.next=function(e){t.prototype.next.call(this,e),this.ensureActive()},e.prototype.error=function(e){t.prototype.error.call(this,e),this.ensureActive()},e.prototype.completed=function(){t.prototype.completed.call(this),this.ensureActive()},e}(On),Sn=ne.Observable=function(){function t(t){this._subscribe=t}return xn=t.prototype,xn.subscribe=xn.forEach=function(t,e,n){var r="object"==typeof t?t:wn(t,e,n);return this._subscribe(r)},t}();xn.observeOn=function(t){var e=this;return new ar(function(n){return e.subscribe(new kn(t,n))})},xn.subscribeOn=function(t){var e=this;return new ar(function(n){var r=new Qe,i=new Ze;return i.setDisposable(r),r.setDisposable(t.schedule(function(){i.setDisposable(new d(t,e.subscribe(n)))})),i})};var An=Sn.fromPromise=function(t){return new ar(function(e){return t.then(function(t){e.onNext(t),e.onCompleted()},function(t){e.onError(t)}),function(){t&&t.abort&&t.abort()}})};xn.toPromise=function(t){if(t||(t=ne.config.Promise),!t)throw new Error("Promise type not provided nor in Rx.config.Promise");var e=this;return new t(function(t,n){var r,i=!1;e.subscribe(function(t){r=t,i=!0},function(t){n(t)},function(){i&&t(r)})})},xn.toArray=function(){var t=this;return new ar(function(e){var n=[];return t.subscribe(n.push.bind(n),e.onError.bind(e),function(){e.onNext(n),e.onCompleted()})})},Sn.create=Sn.createWithDisposable=function(t){return new ar(t)};var jn=Sn.defer=function(t){return new ar(function(e){var n;try{n=t()}catch(r){return Tn(r).subscribe(e)}return le(n)&&(n=An(n)),n.subscribe(e)})},Dn=Sn.empty=function(t){return t||(t=sn),new ar(function(e){return t.schedule(function(){e.onCompleted()})})},_n=Sn.fromArray=function(t,e){return e||(e=un),new ar(function(n){var r=0,i=t.length;return e.scheduleRecursive(function(e){i>r?(n.onNext(t[r++]),e()):n.onCompleted()})})};Sn.fromIterable=function(t,e){return e||(e=un),new ar(function(n){var r;try{r=t[de]()}catch(i){return void n.onError(i)}return e.scheduleRecursive(function(t){var e;try{e=r.next()}catch(i){return void n.onError(i)}e.done?n.onCompleted():(n.onNext(e.value),t())})})},Sn.generate=function(t,e,n,r,i){return i||(i=un),new ar(function(o){var s=!0,u=t;return i.scheduleRecursive(function(t){var i,c;try{s?s=!1:u=n(u),i=e(u),i&&(c=r(u))}catch(a){return void o.onError(a)}i?(o.onNext(c),t()):o.onCompleted()})})},Sn.of=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];return _n(e)};var Wn=(Sn.ofWithScheduler=function(t){for(var e=arguments.length-1,n=new Array(e),r=0;e>r;r++)n[r]=arguments[r+1];return _n(n,t)},Sn.never=function(){return new ar(function(){return Xe})});Sn.range=function(t,e,n){return n||(n=un),new ar(function(r){return n.scheduleRecursiveWithState(0,function(n,i){e>n?(r.onNext(t+n),i(n+1)):r.onCompleted()})})},Sn.repeat=function(t,e,n){return n||(n=un),null==e&&(e=-1),Rn(t,n).repeat(e)};var Rn=Sn["return"]=Sn.returnValue=Sn.just=function(t,e){return e||(e=sn),new ar(function(n){return e.schedule(function(){n.onNext(t),n.onCompleted()})})},Tn=Sn["throw"]=Sn.throwException=function(t,e){return e||(e=sn),new ar(function(n){return e.schedule(function(){n.onError(t)})})};Sn.using=function(t,e){return new ar(function(n){var r,i,o=Xe;try{r=t(),r&&(o=r),i=e(r)}catch(s){return new Fe(Tn(s).subscribe(n),o)}return new Fe(i.subscribe(n),o)})},xn.amb=function(t){var e=this;return new ar(function(n){function r(){o||(o=s,a.dispose())}function i(){o||(o=u,c.dispose())}var o,s="L",u="R",c=new Qe,a=new Qe;return le(t)&&(t=An(t)),c.setDisposable(e.subscribe(function(t){r(),o===s&&n.onNext(t)},function(t){r(),o===s&&n.onError(t)},function(){r(),o===s&&n.onCompleted()})),a.setDisposable(t.subscribe(function(t){i(),o===u&&n.onNext(t)},function(t){i(),o===u&&n.onError(t)},function(){i(),o===u&&n.onCompleted()})),new Fe(c,a)})},Sn.amb=function(){function t(t,e){return t.amb(e)}for(var e=Wn(),n=h(arguments,0),r=0,i=n.length;i>r;r++)e=t(e,n[r]);return e},xn["catch"]=xn.catchException=function(t){return"function"==typeof t?v(this,t):qn([this,t])};var qn=Sn.catchException=Sn["catch"]=function(){var t=h(arguments,0);return gn(t).catchException()};xn.combineLatest=function(){var t=Ve.call(arguments);return Array.isArray(t[0])?t[0].unshift(this):t.unshift(this),Pn.apply(this,t)};var Pn=Sn.combineLatest=function(){var t=Ve.call(arguments),e=t.pop();return Array.isArray(t[0])&&(t=t[0]),new ar(function(n){function r(t){var r;if(u[t]=!0,c||(c=u.every(ie))){try{r=e.apply(null,l)}catch(i){return void n.onError(i)}n.onNext(r)}else a.filter(function(e,n){return n!==t}).every(ie)&&n.onCompleted()}function i(t){a[t]=!0,a.every(ie)&&n.onCompleted()}for(var o=function(){return!1},s=t.length,u=p(s,o),c=!1,a=p(s,o),l=new Array(s),f=new Array(s),h=0;s>h;h++)!function(e){var o=t[e],s=new Qe;le(o)&&(o=An(o)),s.setDisposable(o.subscribe(function(t){l[e]=t,r(e)},n.onError.bind(n),function(){i(e)})),f[e]=s}(h);return new Fe(f)})};xn.concat=function(){var t=Ve.call(arguments,0);return t.unshift(this),Ln.apply(this,t)};var Ln=Sn.concat=function(){var t=h(arguments,0);return gn(t).concat()};xn.concatObservable=xn.concatAll=function(){return this.merge(1)},xn.merge=function(t){if("number"!=typeof t)return Vn(this,t);var e=this;return new ar(function(n){var r=0,i=new Fe,o=!1,s=[],u=function(t){var e=new Qe;i.add(e),le(t)&&(t=An(t)),e.setDisposable(t.subscribe(n.onNext.bind(n),n.onError.bind(n),function(){var t;i.remove(e),s.length>0?(t=s.shift(),u(t)):(r--,o&&0===r&&n.onCompleted())}))};return i.add(e.subscribe(function(e){t>r?(r++,u(e)):s.push(e)},n.onError.bind(n),function(){o=!0,0===r&&n.onCompleted()})),i})};var Vn=Sn.merge=function(){var t,e;return arguments[0]?arguments[0].now?(t=arguments[0],e=Ve.call(arguments,1)):(t=sn,e=Ve.call(arguments,0)):(t=sn,e=Ve.call(arguments,1)),Array.isArray(e[0])&&(e=e[0]),_n(e,t).mergeObservable()};xn.mergeObservable=xn.mergeAll=function(){var t=this;return new ar(function(e){var n=new Fe,r=!1,i=new Qe;return n.add(i),i.setDisposable(t.subscribe(function(t){var i=new Qe;n.add(i),le(t)&&(t=An(t)),i.setDisposable(t.subscribe(function(t){e.onNext(t)},e.onError.bind(e),function(){n.remove(i),r&&1===n.length&&e.onCompleted()}))},e.onError.bind(e),function(){r=!0,1===n.length&&e.onCompleted()})),n})},xn.onErrorResumeNext=function(t){if(!t)throw new Error("Second observable is required");return Mn([this,t])};var Mn=Sn.onErrorResumeNext=function(){var t=h(arguments,0);return new ar(function(e){var n=0,r=new Ze,i=sn.scheduleRecursive(function(i){var o,s;n<t.length?(o=t[n++],le(o)&&(o=An(o)),s=new Qe,r.setDisposable(s),s.setDisposable(o.subscribe(e.onNext.bind(e),function(){i()},function(){i()}))):e.onCompleted()});return new Fe(r,i)})};xn.skipUntil=function(t){var e=this;return new ar(function(n){var r=!1,i=new Fe(e.subscribe(function(t){r&&n.onNext(t)},n.onError.bind(n),function(){r&&n.onCompleted()}));le(t)&&(t=An(t));var o=new Qe;return i.add(o),o.setDisposable(t.subscribe(function(){r=!0,o.dispose()},n.onError.bind(n),function(){o.dispose()})),i})},xn["switch"]=xn.switchLatest=function(){var t=this;return new ar(function(e){var n=!1,r=new Ze,i=!1,o=0,s=t.subscribe(function(t){var s=new Qe,u=++o;n=!0,r.setDisposable(s),le(t)&&(t=An(t)),s.setDisposable(t.subscribe(function(t){o===u&&e.onNext(t)},function(t){o===u&&e.onError(t)},function(){o===u&&(n=!1,i&&e.onCompleted())}))},e.onError.bind(e),function(){i=!0,n||e.onCompleted()});return new Fe(s,r)})},xn.takeUntil=function(t){var e=this;return new ar(function(n){return le(t)&&(t=An(t)),new Fe(e.subscribe(n),t.subscribe(n.onCompleted.bind(n),n.onError.bind(n),re))})},xn.zip=function(){if(Array.isArray(arguments[0]))return b.apply(this,arguments);var t=this,e=Ve.call(arguments),n=e.pop();return e.unshift(t),new ar(function(r){function i(e){var i,o;if(u.every(function(t){return t.length>0})){try{o=u.map(function(t){return t.shift()}),i=n.apply(t,o)}catch(s){return void r.onError(s)}r.onNext(i)}else c.filter(function(t,n){return n!==e}).every(ie)&&r.onCompleted()}function o(t){c[t]=!0,c.every(function(t){return t})&&r.onCompleted()}for(var s=e.length,u=p(s,function(){return[]}),c=p(s,function(){return!1}),a=new Array(s),l=0;s>l;l++)!function(t){var n=e[t],s=new Qe;le(n)&&(n=An(n)),s.setDisposable(n.subscribe(function(e){u[t].push(e),i(t)},r.onError.bind(r),function(){o(t)})),a[t]=s}(l);return new Fe(a)})},Sn.zip=function(){var t=Ve.call(arguments,0),e=t.shift();return e.zip.apply(e,t)},Sn.zipArray=function(){var t=h(arguments,0);return new ar(function(e){function n(t){if(o.every(function(t){return t.length>0})){var n=o.map(function(t){return t.shift()});e.onNext(n)}else if(s.filter(function(e,n){return n!==t}).every(ie))return void e.onCompleted()}function r(t){return s[t]=!0,s.every(ie)?void e.onCompleted():void 0}for(var i=t.length,o=p(i,function(){return[]}),s=p(i,function(){return!1}),u=new Array(i),c=0;i>c;c++)!function(i){u[i]=new Qe,u[i].setDisposable(t[i].subscribe(function(t){o[i].push(t),n(i)},e.onError.bind(e),function(){r(i)}))}(c);var a=new Fe(u);return a.add(Ge(function(){for(var t=0,e=o.length;e>t;t++)o[t]=[]})),a})},xn.asObservable=function(){var t=this;return new ar(function(e){return t.subscribe(e)})},xn.bufferWithCount=function(t,e){return"number"!=typeof e&&(e=t),this.windowWithCount(t,e).selectMany(function(t){return t.toArray()}).where(function(t){return t.length>0})},xn.dematerialize=function(){var t=this;return new ar(function(e){return t.subscribe(function(t){return t.accept(e)},e.onError.bind(e),e.onCompleted.bind(e))})},xn.distinctUntilChanged=function(t,e){var n=this;return t||(t=ie),e||(e=se),new ar(function(r){var i,o=!1;return n.subscribe(function(n){var s,u=!1;try{s=t(n)}catch(c){return void r.onError(c)}if(o)try{u=e(i,s)}catch(c){return void r.onError(c)}o&&u||(o=!0,i=s,r.onNext(n))},r.onError.bind(r),r.onCompleted.bind(r))})},xn["do"]=xn.doAction=function(t,e,n){var r,i=this;return"function"==typeof t?r=t:(r=t.onNext.bind(t),e=t.onError.bind(t),n=t.onCompleted.bind(t)),new ar(function(t){return i.subscribe(function(e){try{r(e)}catch(n){t.onError(n)}t.onNext(e)},function(n){if(e){try{e(n)}catch(r){t.onError(r)}t.onError(n)}else t.onError(n)},function(){if(n){try{n()}catch(e){t.onError(e)}t.onCompleted()}else t.onCompleted()})})},xn["finally"]=xn.finallyAction=function(t){var e=this;return new ar(function(n){var r;try{r=e.subscribe(n)}catch(i){throw t(),i}return Ge(function(){try{r.dispose()}catch(e){throw e}finally{t()}})})},xn.ignoreElements=function(){var t=this;return new ar(function(e){return t.subscribe(re,e.onError.bind(e),e.onCompleted.bind(e))})},xn.materialize=function(){var t=this;return new ar(function(e){return t.subscribe(function(t){e.onNext(hn(t))},function(t){e.onNext(pn(t)),e.onCompleted()},function(){e.onNext(dn()),e.onCompleted()})})},xn.repeat=function(t){return mn(this,t).concat()},xn.retry=function(t){return mn(this,t).catchException()},xn.scan=function(){var t,e,n=!1,r=this;return 2===arguments.length?(n=!0,t=arguments[0],e=arguments[1]):e=arguments[0],new ar(function(i){var o,s,u;return r.subscribe(function(r){try{u||(u=!0),o?s=e(s,r):(s=n?e(t,r):r,o=!0)}catch(c){return void i.onError(c)}i.onNext(s)},i.onError.bind(i),function(){!u&&n&&i.onNext(t),i.onCompleted()})})},xn.skipLast=function(t){var e=this;return new ar(function(n){var r=[];return e.subscribe(function(e){r.push(e),r.length>t&&n.onNext(r.shift())},n.onError.bind(n),n.onCompleted.bind(n))})},xn.startWith=function(){var t,e,n=0;return arguments.length&&"now"in Object(arguments[0])?(e=arguments[0],n=1):e=sn,t=Ve.call(arguments,n),gn([_n(t,e),this]).concat()},xn.takeLast=function(t,e){return this.takeLastBuffer(t).selectMany(function(t){return _n(t,e)})},xn.takeLastBuffer=function(t){var e=this;return new ar(function(n){var r=[];return e.subscribe(function(e){r.push(e),r.length>t&&r.shift()},n.onError.bind(n),function(){n.onNext(r),n.onCompleted()})})},xn.windowWithCount=function(t,e){var n=this;if(0>=t)throw new Error(he);if(1===arguments.length&&(e=t),0>=e)throw new Error(he);return new ar(function(r){var i=new Qe,o=new Ye(i),s=0,u=[],c=function(){var t=new hr;u.push(t),r.onNext(Ue(t,o))};return c(),i.setDisposable(n.subscribe(function(n){for(var r,i=0,o=u.length;o>i;i++)u[i].onNext(n);var a=s-t+1;a>=0&&a%e===0&&(r=u.shift(),r.onCompleted()),s++,s%e===0&&c()},function(t){for(;u.length>0;)u.shift().onError(t);r.onError(t)},function(){for(;u.length>0;)u.shift().onCompleted();r.onCompleted()})),o})},xn.selectConcat=xn.concatMap=function(t,e){return e?this.concatMap(function(n,r){var i=t(n,r),o=le(i)?An(i):i;return o.map(function(t){return e(n,t,r)})}):"function"==typeof t?m.call(this,t):m.call(this,function(){return t})},xn.defaultIfEmpty=function(e){var n=this;return e===t&&(e=null),new ar(function(t){var r=!1;return n.subscribe(function(e){r=!0,t.onNext(e)},t.onError.bind(t),function(){r||t.onNext(e),t.onCompleted()})})},xn.distinct=function(t,e){var n=this;return t||(t=ie),e||(e=ce),new ar(function(r){var i={};return n.subscribe(function(n){var o,s,u,c=!1;try{o=t(n),s=e(o)}catch(a){return void r.onError(a)}for(u in i)if(s===u){c=!0;break}c||(i[s]=null,r.onNext(n))},r.onError.bind(r),r.onCompleted.bind(r))})},xn.groupBy=function(t,e,n){return this.groupByUntil(t,e,function(){return Wn()},n)},xn.groupByUntil=function(t,e,n,r){var i=this;return e||(e=ie),r||(r=ce),new ar(function(o){var s={},u=new Fe,c=new Ye(u);return u.add(i.subscribe(function(i){var a,l,f,h,p,d,v,b,m,g;try{d=t(i),v=r(d)}catch(y){for(g in s)s[g].onError(y);return void o.onError(y)}h=!1;try{m=s[v],m||(m=new hr,s[v]=m,h=!0)}catch(y){for(g in s)s[g].onError(y);return void o.onError(y)}if(h){p=new fr(d,m,c),l=new fr(d,m);try{a=n(l)}catch(y){for(g in s)s[g].onError(y);return void o.onError(y)}o.onNext(p),b=new Qe,u.add(b);var w=function(){v in s&&(delete s[v],m.onCompleted()),u.remove(b)};b.setDisposable(a.take(1).subscribe(re,function(t){for(g in s)s[g].onError(t);o.onError(t)},function(){w()}))}try{f=e(i)}catch(y){for(g in s)s[g].onError(y);return void o.onError(y)}m.onNext(f)},function(t){for(var e in s)s[e].onError(t);o.onError(t)},function(){for(var t in s)s[t].onCompleted();o.onCompleted()})),c})},xn.select=xn.map=function(t,e){var n=this;return new ar(function(r){var i=0;return n.subscribe(function(o){var s;try{s=t.call(e,o,i++,n)}catch(u){return void r.onError(u)}r.onNext(s)},r.onError.bind(r),r.onCompleted.bind(r))})},xn.pluck=function(t){return this.select(function(e){return e[t]})},xn.selectMany=xn.flatMap=function(t,e){return e?this.selectMany(function(n,r){var i=t(n,r),o=le(i)?An(i):i;return o.select(function(t){return e(n,t,r)})}):"function"==typeof t?g.call(this,t):g.call(this,function(){return t})},xn.selectSwitch=xn.flatMapLatest=xn.switchMap=function(t,e){return this.select(t,e).switchLatest()},xn.skip=function(t){if(0>t)throw new Error(he);var e=this;return new ar(function(n){var r=t;return e.subscribe(function(t){0>=r?n.onNext(t):r--},n.onError.bind(n),n.onCompleted.bind(n))})},xn.skipWhile=function(t,e){var n=this;return new ar(function(r){var i=0,o=!1;return n.subscribe(function(s){if(!o)try{o=!t.call(e,s,i++,n)}catch(u){return void r.onError(u)}o&&r.onNext(s)},r.onError.bind(r),r.onCompleted.bind(r))})},xn.take=function(t,e){if(0>t)throw new Error(he);if(0===t)return Dn(e);var n=this;return new ar(function(e){var r=t;return n.subscribe(function(t){r>0&&(r--,e.onNext(t),0===r&&e.onCompleted())},e.onError.bind(e),e.onCompleted.bind(e))})},xn.takeWhile=function(t,e){var n=this;return new ar(function(r){var i=0,o=!0;return n.subscribe(function(s){if(o){try{o=t.call(e,s,i++,n)}catch(u){return void r.onError(u)}o?r.onNext(s):r.onCompleted()}},r.onError.bind(r),r.onCompleted.bind(r))})},xn.where=xn.filter=function(t,e){var n=this;return new ar(function(r){var i=0;return n.subscribe(function(o){var s;try{s=t.call(e,o,i++,n)}catch(u){return void r.onError(u)}s&&r.onNext(o)},r.onError.bind(r),r.onCompleted.bind(r))})},xn.finalValue=function(){var t=this;return new ar(function(e){var n,r=!1;return t.subscribe(function(t){r=!0,n=t},e.onError.bind(e),function(){r?(e.onNext(n),e.onCompleted()):e.onError(new Error(fe))})})},xn.aggregate=function(){var t,e,n;return 2===arguments.length?(t=arguments[0],e=!0,n=arguments[1]):n=arguments[0],e?this.scan(t,n).startWith(t).finalValue():this.scan(n).finalValue()},xn.reduce=function(t){var e,n;return 2===arguments.length&&(n=!0,e=arguments[1]),n?this.scan(e,t).startWith(e).finalValue():this.scan(t).finalValue()},xn.some=xn.any=function(t,e){var n=this;return t?n.where(t,e).any():new ar(function(t){return n.subscribe(function(){t.onNext(!0),t.onCompleted()},t.onError.bind(t),function(){t.onNext(!1),t.onCompleted()})})},xn.isEmpty=function(){return this.any().select(function(t){return!t})},xn.every=xn.all=function(t,e){return this.where(function(e){return!t(e)},e).any().select(function(t){return!t})},xn.contains=function(t,e){return e||(e=se),this.where(function(n){return e(n,t)}).any()},xn.count=function(t,e){return t?this.where(t,e).count():this.aggregate(0,function(t){return t+1})},xn.sum=function(t,e){return t?this.select(t,e).sum():this.aggregate(0,function(t,e){return t+e})},xn.minBy=function(t,e){return e||(e=ue),y(this,t,function(t,n){return-1*e(t,n)})},xn.min=function(t){return this.minBy(ie,t).select(function(t){return w(t)})},xn.maxBy=function(t,e){return e||(e=ue),y(this,t,e)},xn.max=function(t){return this.maxBy(ie,t).select(function(t){return w(t)})},xn.average=function(t,e){return t?this.select(t,e).average():this.scan({sum:0,count:0},function(t,e){return{sum:t.sum+e,count:t.count+1}}).finalValue().select(function(t){if(0===t.count)throw new Error("The input sequence was empty");return t.sum/t.count})},xn.sequenceEqual=function(t,e){var n=this;return e||(e=se),Array.isArray(t)?x(n,t,e):new ar(function(r){var i=!1,o=!1,s=[],u=[],c=n.subscribe(function(t){var n,i;if(u.length>0){i=u.shift();try{n=e(i,t)}catch(c){return void r.onError(c)}n||(r.onNext(!1),r.onCompleted())}else o?(r.onNext(!1),r.onCompleted()):s.push(t)},r.onError.bind(r),function(){i=!0,0===s.length&&(u.length>0?(r.onNext(!1),r.onCompleted()):o&&(r.onNext(!0),r.onCompleted()))});le(t)&&(t=An(t));var a=t.subscribe(function(t){var n,o;if(s.length>0){o=s.shift();try{n=e(o,t)}catch(c){return void r.onError(c)}n||(r.onNext(!1),r.onCompleted())}else i?(r.onNext(!1),r.onCompleted()):u.push(t)},r.onError.bind(r),function(){o=!0,0===u.length&&(s.length>0?(r.onNext(!1),r.onCompleted()):i&&(r.onNext(!0),r.onCompleted()))});return new Fe(c,a)})},xn.elementAt=function(t){return E(this,t,!1)},xn.elementAtOrDefault=function(t,e){return E(this,t,!0,e)},xn.single=function(t,e){return t?this.where(t,e).single():C(this,!1)},xn.singleOrDefault=function(t,e,n){return t?this.where(t,n).singleOrDefault(null,e):C(this,!0,e)},xn.first=function(t,e){return t?this.where(t,e).first():N(this,!1)},xn.firstOrDefault=function(t,e){return t?this.where(t).firstOrDefault(null,e):N(this,!0,e)},xn.last=function(t,e){return t?this.where(t,e).last():O(this,!1)},xn.lastOrDefault=function(t,e,n){return t?this.where(t,n).lastOrDefault(null,e):O(this,!0,e)},xn.find=function(t,e){return k(this,t,e,!1)},xn.findIndex=function(t,e){return k(this,t,e,!0)},Sn.start=function(t,e,n){return zn(t,e,n)()};var zn=Sn.toAsync=function(t,e,n){return e||(e=an),function(){var r=arguments,i=new pr;return e.schedule(function(){var e;try{e=t.apply(n,r)}catch(o){return void i.onError(o)}i.onNext(e),i.onCompleted()}),i.asObservable()}};Sn.fromCallback=function(t,e,n,r){return e||(e=sn),function(){var i=Ve.call(arguments,0);return new ar(function(o){return e.schedule(function(){function e(t){var e=t;if(r)try{e=r(arguments)}catch(n){return void o.onError(n)}else 1===e.length&&(e=e[0]);o.onNext(e),o.onCompleted()}i.push(e),t.apply(n,i)})})}},Sn.fromNodeCallback=function(t,e,n,r){return e||(e=sn),function(){var i=Ve.call(arguments,0);return new ar(function(o){return e.schedule(function(){function e(t){if(t)return void o.onError(t);var e=Ve.call(arguments,1);if(r)try{e=r(e)}catch(n){return void o.onError(n)}else 1===e.length&&(e=e[0]);o.onNext(e),o.onCompleted()}i.push(e),t.apply(n,i)})})}};var Un=Q.angular&&angular.element?angular.element:Q.jQuery?Q.jQuery:Q.Zepto?Q.Zepto:null,In=!!Q.Ember&&"function"==typeof Q.Ember.addListener;Sn.fromEvent=function(t,e,n){if(In)return Bn(function(n){Ember.addListener(t,e,n)},function(n){Ember.removeListener(t,e,n)},n);if(Un){var r=Un(t);return Bn(function(t){r.on(e,t)},function(t){r.off(e,t)},n)}return new ar(function(r){return A(t,e,function(t){var e=t;if(n)try{e=n(arguments)}catch(i){return void r.onError(i)}r.onNext(e)})}).publish().refCount()};var Bn=Sn.fromEventPattern=function(t,e,n){return new ar(function(r){function i(t){var e=t;if(n)try{e=n(arguments)}catch(i){return void r.onError(i)}r.onNext(e)}var o=t(i);return Ge(function(){e&&e(i,o)})}).publish().refCount()};Sn.startAsync=function(t){var e;try{e=t()}catch(n){return Tn(n)}return An(e)};var Hn=function(t){function e(t){var e=this.source.publish(),n=e.subscribe(t),r=Xe,i=this.subject.distinctUntilChanged().subscribe(function(t){t?r=e.connect():(r.dispose(),r=Xe)});return new Fe(n,r,i)}function n(n,r){this.source=n,this.subject=r||new hr,this.isPaused=!0,t.call(this,e)}return Me(n,t),n.prototype.pause=function(){this.isPaused!==!0&&(this.isPaused=!0,this.subject.onNext(!1))},n.prototype.resume=function(){this.isPaused!==!1&&(this.isPaused=!1,this.subject.onNext(!0))},n}(Sn);xn.pausable=function(t){return new Hn(this,t)};var Fn=function(t){function e(t){var e=[],n=!0,r=j(this.source,this.subject.distinctUntilChanged(),function(t,e){return{data:t,shouldFire:e}}).subscribe(function(r){if(r.shouldFire&&n&&t.onNext(r.data),r.shouldFire&&!n){for(;e.length>0;)t.onNext(e.shift());n=!0}else r.shouldFire||n?!r.shouldFire&&n&&(n=!1):e.push(r.data)},function(n){for(;e.length>0;)t.onNext(e.shift());t.onError(n)},function(){for(;e.length>0;)t.onNext(e.shift());t.onCompleted()});return this.subject.onNext(!1),r}function n(n,r){this.source=n,this.subject=r||new hr,this.isPaused=!0,t.call(this,e)}return Me(n,t),n.prototype.pause=function(){this.isPaused!==!0&&(this.isPaused=!0,this.subject.onNext(!1))},n.prototype.resume=function(){this.isPaused!==!1&&(this.isPaused=!1,this.subject.onNext(!0))},n}(Sn);xn.pausableBuffered=function(t){return new Fn(this,t)},xn.controlled=function(t){return null==t&&(t=!0),new $n(this,t)};var $n=function(t){function e(t){return this.source.subscribe(t)}function n(n,r){t.call(this,e),this.subject=new Jn(r),this.source=n.multicast(this.subject).refCount()}return Me(n,t),n.prototype.request=function(t){return null==t&&(t=-1),this.subject.request(t)},n}(Sn),Jn=ne.ControlledSubject=function(t){function e(t){return this.subject.subscribe(t)}function n(n){null==n&&(n=!0),t.call(this,e),this.subject=new hr,this.enableQueue=n,this.queue=n?[]:null,this.requestedCount=0,this.requestedDisposable=Xe,this.error=null,this.hasFailed=!1,this.hasCompleted=!1,this.controlledDisposable=Xe
}return Me(n,t),ze(n.prototype,yn,{onCompleted:function(){r.call(this),this.hasCompleted=!0,this.enableQueue&&0!==this.queue.length||this.subject.onCompleted()},onError:function(t){r.call(this),this.hasFailed=!0,this.error=t,this.enableQueue&&0!==this.queue.length||this.subject.onError(t)},onNext:function(t){r.call(this);var e=!1;0===this.requestedCount?this.enableQueue&&this.queue.push(t):(-1!==this.requestedCount&&0===this.requestedCount--&&this.disposeCurrentRequest(),e=!0),e&&this.subject.onNext(t)},_processRequest:function(t){if(this.enableQueue){for(;this.queue.length>=t&&t>0;)this.subject.onNext(this.queue.shift()),t--;return 0!==this.queue.length?{numberOfItems:t,returnValue:!0}:{numberOfItems:t,returnValue:!1}}return this.hasFailed?(this.subject.onError(this.error),this.controlledDisposable.dispose(),this.controlledDisposable=Xe):this.hasCompleted&&(this.subject.onCompleted(),this.controlledDisposable.dispose(),this.controlledDisposable=Xe),{numberOfItems:t,returnValue:!1}},request:function(t){r.call(this),this.disposeCurrentRequest();var e=this,n=this._processRequest(t);return t=n.numberOfItems,n.returnValue?Xe:(this.requestedCount=t,this.requestedDisposable=Ge(function(){e.requestedCount=0}),this.requestedDisposable)},disposeCurrentRequest:function(){this.requestedDisposable.dispose(),this.requestedDisposable=Xe},dispose:function(){this.isDisposed=!0,this.error=null,this.subject.dispose(),this.requestedDisposable.dispose()}}),n}(Sn);xn.multicast=function(t,e){var n=this;return"function"==typeof t?new ar(function(r){var i=n.multicast(t());return new Fe(e(i).subscribe(r),i.connect())}):new Qn(n,t)},xn.publish=function(t){return t?this.multicast(function(){return new hr},t):this.multicast(new hr)},xn.share=function(){return this.publish(null).refCount()},xn.publishLast=function(t){return t?this.multicast(function(){return new pr},t):this.multicast(new pr)},xn.publishValue=function(t,e){return 2===arguments.length?this.multicast(function(){return new Xn(e)},t):this.multicast(new Xn(t))},xn.shareValue=function(t){return this.publishValue(t).refCount()},xn.replay=function(t,e,n,r){return t?this.multicast(function(){return new Kn(e,n,r)},t):this.multicast(new Kn(e,n,r))},xn.shareReplay=function(t,e,n){return this.replay(null,t,e,n).refCount()};var Gn=function(t,e){this.subject=t,this.observer=e};Gn.prototype.dispose=function(){if(!this.subject.isDisposed&&null!==this.observer){var t=this.subject.observers.indexOf(this.observer);this.subject.observers.splice(t,1),this.observer=null}};var Xn=ne.BehaviorSubject=function(t){function e(t){if(r.call(this),!this.isStopped)return this.observers.push(t),t.onNext(this.value),new Gn(this,t);var e=this.exception;return e?t.onError(e):t.onCompleted(),Xe}function n(n){t.call(this,e),this.value=n,this.observers=[],this.isDisposed=!1,this.isStopped=!1,this.exception=null}return Me(n,t),ze(n.prototype,yn,{hasObservers:function(){return this.observers.length>0},onCompleted:function(){if(r.call(this),!this.isStopped){var t=this.observers.slice(0);this.isStopped=!0;for(var e=0,n=t.length;n>e;e++)t[e].onCompleted();this.observers=[]}},onError:function(t){if(r.call(this),!this.isStopped){var e=this.observers.slice(0);this.isStopped=!0,this.exception=t;for(var n=0,i=e.length;i>n;n++)e[n].onError(t);this.observers=[]}},onNext:function(t){if(r.call(this),!this.isStopped){this.value=t;for(var e=this.observers.slice(0),n=0,i=e.length;i>n;n++)e[n].onNext(t)}},dispose:function(){this.isDisposed=!0,this.observers=null,this.value=null,this.exception=null}}),n}(Sn),Kn=ne.ReplaySubject=function(t){function e(t,e){this.subject=t,this.observer=e}function n(t){var n=new On(this.scheduler,t),i=new e(this,n);r.call(this),this._trim(this.scheduler.now()),this.observers.push(n);for(var o=this.q.length,s=0,u=this.q.length;u>s;s++)n.onNext(this.q[s].value);return this.hasError?(o++,n.onError(this.error)):this.isStopped&&(o++,n.onCompleted()),n.ensureActive(o),i}function i(e,r,i){this.bufferSize=null==e?Number.MAX_VALUE:e,this.windowSize=null==r?Number.MAX_VALUE:r,this.scheduler=i||un,this.q=[],this.observers=[],this.isStopped=!1,this.isDisposed=!1,this.hasError=!1,this.error=null,t.call(this,n)}return e.prototype.dispose=function(){if(this.observer.dispose(),!this.subject.isDisposed){var t=this.subject.observers.indexOf(this.observer);this.subject.observers.splice(t,1)}},Me(i,t),ze(i.prototype,yn,{hasObservers:function(){return this.observers.length>0},_trim:function(t){for(;this.q.length>this.bufferSize;)this.q.shift();for(;this.q.length>0&&t-this.q[0].interval>this.windowSize;)this.q.shift()},onNext:function(t){var e;if(r.call(this),!this.isStopped){var n=this.scheduler.now();this.q.push({interval:n,value:t}),this._trim(n);for(var i=this.observers.slice(0),o=0,s=i.length;s>o;o++)e=i[o],e.onNext(t),e.ensureActive()}},onError:function(t){var e;if(r.call(this),!this.isStopped){this.isStopped=!0,this.error=t,this.hasError=!0;var n=this.scheduler.now();this._trim(n);for(var i=this.observers.slice(0),o=0,s=i.length;s>o;o++)e=i[o],e.onError(t),e.ensureActive();this.observers=[]}},onCompleted:function(){var t;if(r.call(this),!this.isStopped){this.isStopped=!0;var e=this.scheduler.now();this._trim(e);for(var n=this.observers.slice(0),i=0,o=n.length;o>i;i++)t=n[i],t.onCompleted(),t.ensureActive();this.observers=[]}},dispose:function(){this.isDisposed=!0,this.observers=null}}),i}(Sn),Qn=ne.ConnectableObservable=function(t){function e(e,n){function r(t){return i.subject.subscribe(t)}var i={subject:n,source:e.asObservable(),hasSubscription:!1,subscription:null};this.connect=function(){return i.hasSubscription||(i.hasSubscription=!0,i.subscription=new Fe(i.source.subscribe(i.subject),Ge(function(){i.hasSubscription=!1}))),i.subscription},t.call(this,r)}return Me(e,t),e.prototype.connect=function(){return this.connect()},e.prototype.refCount=function(){var t=null,e=0,n=this;return new ar(function(r){var i,o;return e++,i=1===e,o=n.subscribe(r),i&&(t=n.connect()),Ge(function(){o.dispose(),e--,0===e&&t.dispose()})})},e}(Sn),Zn=[1,3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143,4194301,8388593,16777213,33554393,67108859,134217689,268435399,536870909,1073741789,2147483647],Yn="no such key",tr="duplicate key",er=function(){var t=0;return function(e){if(null==e)throw new Error(Yn);if("string"==typeof e)return W(e);if("number"==typeof e)return R(e);if("boolean"==typeof e)return e===!0?1:0;if(e instanceof Date)return e.getTime();if(e.getHashCode)return e.getHashCode();var n=17*t++;return e.getHashCode=function(){return n},n}}(),nr=function(t,e){if(0>t)throw new Error("out of range");t>0&&this._initialize(t),this.comparer=e||se,this.freeCount=0,this.size=0,this.freeList=-1};nr.prototype._initialize=function(t){var e,n=_(t);for(this.buckets=new Array(n),this.entries=new Array(n),e=0;n>e;e++)this.buckets[e]=-1,this.entries[e]=T();this.freeList=-1},nr.prototype.count=function(){return this.size},nr.prototype.add=function(t,e){return this._insert(t,e,!0)},nr.prototype._insert=function(t,e,n){this.buckets||this._initialize(0);for(var r,i=2147483647&er(t),o=i%this.buckets.length,s=this.buckets[o];s>=0;s=this.entries[s].next)if(this.entries[s].hashCode===i&&this.comparer(this.entries[s].key,t)){if(n)throw new Error(tr);return void(this.entries[s].value=e)}this.freeCount>0?(r=this.freeList,this.freeList=this.entries[r].next,--this.freeCount):(this.size===this.entries.length&&(this._resize(),o=i%this.buckets.length),r=this.size,++this.size),this.entries[r].hashCode=i,this.entries[r].next=this.buckets[o],this.entries[r].key=t,this.entries[r].value=e,this.buckets[o]=r},nr.prototype._resize=function(){var t=_(2*this.size),e=new Array(t);for(r=0;r<e.length;++r)e[r]=-1;var n=new Array(t);for(r=0;r<this.size;++r)n[r]=this.entries[r];for(var r=this.size;t>r;++r)n[r]=T();for(var i=0;i<this.size;++i){var o=n[i].hashCode%t;n[i].next=e[o],e[o]=i}this.buckets=e,this.entries=n},nr.prototype.remove=function(t){if(this.buckets)for(var e=2147483647&er(t),n=e%this.buckets.length,r=-1,i=this.buckets[n];i>=0;i=this.entries[i].next){if(this.entries[i].hashCode===e&&this.comparer(this.entries[i].key,t))return 0>r?this.buckets[n]=this.entries[i].next:this.entries[r].next=this.entries[i].next,this.entries[i].hashCode=-1,this.entries[i].next=this.freeList,this.entries[i].key=null,this.entries[i].value=null,this.freeList=i,++this.freeCount,!0;r=i}return!1},nr.prototype.clear=function(){var t,e;if(!(this.size<=0)){for(t=0,e=this.buckets.length;e>t;++t)this.buckets[t]=-1;for(t=0;t<this.size;++t)this.entries[t]=T();this.freeList=-1,this.size=0}},nr.prototype._findEntry=function(t){if(this.buckets)for(var e=2147483647&er(t),n=this.buckets[e%this.buckets.length];n>=0;n=this.entries[n].next)if(this.entries[n].hashCode===e&&this.comparer(this.entries[n].key,t))return n;return-1},nr.prototype.count=function(){return this.size-this.freeCount},nr.prototype.tryGetValue=function(e){var n=this._findEntry(e);return n>=0?this.entries[n].value:t},nr.prototype.getValues=function(){var t=0,e=[];if(this.entries)for(var n=0;n<this.size;n++)this.entries[n].hashCode>=0&&(e[t++]=this.entries[n].value);return e},nr.prototype.get=function(t){var e=this._findEntry(t);if(e>=0)return this.entries[e].value;throw new Error(Yn)},nr.prototype.set=function(t,e){this._insert(t,e,!1)},nr.prototype.containskey=function(t){return this._findEntry(t)>=0},xn.join=function(t,e,n,r){var i=this;return new ar(function(o){var s=new Fe,u=!1,c=0,a=new nr,l=!1,f=0,h=new nr;return s.add(i.subscribe(function(t){var n,i,l,f,p=c++,d=new Qe;a.add(p,t),s.add(d),i=function(){return a.remove(p)&&0===a.count()&&u&&o.onCompleted(),s.remove(d)};try{n=e(t)}catch(v){return void o.onError(v)}d.setDisposable(n.take(1).subscribe(re,o.onError.bind(o),function(){i()})),f=h.getValues();for(var b=0;b<f.length;b++){try{l=r(t,f[b])}catch(m){return void o.onError(m)}o.onNext(l)}},o.onError.bind(o),function(){u=!0,(l||0===a.count())&&o.onCompleted()})),s.add(t.subscribe(function(t){var e,i,u,c,p=f++,d=new Qe;h.add(p,t),s.add(d),i=function(){return h.remove(p)&&0===h.count()&&l&&o.onCompleted(),s.remove(d)};try{e=n(t)}catch(v){return void o.onError(v)}d.setDisposable(e.take(1).subscribe(re,o.onError.bind(o),function(){i()})),c=a.getValues();for(var b=0;b<c.length;b++){try{u=r(c[b],t)}catch(v){return void o.onError(v)}o.onNext(u)}},o.onError.bind(o),function(){l=!0,(u||0===h.count())&&o.onCompleted()})),s})},xn.groupJoin=function(t,e,n,r){var i=this;return new ar(function(o){var s=function(){},u=new Fe,c=new Ye(u),a=new nr,l=new nr,f=0,h=0;return u.add(i.subscribe(function(t){var n=new hr,i=f++;a.add(i,n);var h,p,d,v,b;try{b=r(t,Ue(n,c))}catch(m){for(d=a.getValues(),h=0,p=d.length;p>h;h++)d[h].onError(m);return void o.onError(m)}for(o.onNext(b),v=l.getValues(),h=0,p=v.length;p>h;h++)n.onNext(v[h]);var g=new Qe;u.add(g);var y,w=function(){a.remove(i)&&n.onCompleted(),u.remove(g)};try{y=e(t)}catch(m){for(d=a.getValues(),h=0,p=a.length;p>h;h++)d[h].onError(m);return void o.onError(m)}g.setDisposable(y.take(1).subscribe(s,function(t){for(d=a.getValues(),h=0,p=d.length;p>h;h++)d[h].onError(t);o.onError(t)},w))},function(t){for(var e=a.getValues(),n=0,r=e.length;r>n;n++)e[n].onError(t);o.onError(t)},o.onCompleted.bind(o))),u.add(t.subscribe(function(t){var e,r,i,c=h++;l.add(c,t);var f=new Qe;u.add(f);var p,d=function(){l.remove(c),u.remove(f)};try{p=n(t)}catch(v){for(e=a.getValues(),r=0,i=a.length;i>r;r++)e[r].onError(v);return void o.onError(v)}for(f.setDisposable(p.take(1).subscribe(s,function(t){for(e=a.getValues(),r=0,i=a.length;i>r;r++)e[r].onError(t);o.onError(t)},d)),e=a.getValues(),r=0,i=e.length;i>r;r++)e[r].onNext(t)},function(t){for(var e=a.getValues(),n=0,r=e.length;r>n;n++)e[n].onError(t);o.onError(t)})),c})},xn.buffer=function(){return this.window.apply(this,arguments).selectMany(function(t){return t.toArray()})},xn.window=function(t,e){return 1===arguments.length&&"function"!=typeof arguments[0]?P.call(this,t):"function"==typeof t?L.call(this,t):q.call(this,t,e)},xn.pairwise=function(){var t=this;return new ar(function(e){var n,r=!1;return t.subscribe(function(t){r?e.onNext([n,t]):r=!0,n=t},e.onError.bind(e),e.onCompleted.bind(e))})},xn.partition=function(t,e){var n=this.publish().refCount();return[n.filter(t,e),n.filter(function(n,r,i){return!t.call(e,n,r,i)})]},xn.letBind=xn.let=function(t){return t(this)},Sn["if"]=Sn.ifThen=function(t,e,n){return jn(function(){return n||(n=Dn()),le(e)&&(e=An(e)),le(n)&&(n=An(n)),"function"==typeof n.now&&(n=Dn(n)),t()?e:n})},Sn["for"]=Sn.forIn=function(t,e){return gn(t,e).concat()};var rr=Sn["while"]=Sn.whileDo=function(t,e){return le(e)&&(e=An(e)),V(t,e).concat()};xn.doWhile=function(t){return Ln([this,rr(t,this)])},Sn["case"]=Sn.switchCase=function(t,e,n){return jn(function(){n||(n=Dn()),"function"==typeof n.now&&(n=Dn(n));var r=e[t()];return le(r)&&(r=An(r)),r||n})},xn.expand=function(t,e){e||(e=sn);var n=this;return new ar(function(r){var i=[],o=new Ze,s=new Fe(o),u=0,c=!1,a=function(){var n=!1;i.length>0&&(n=!c,c=!0),n&&o.setDisposable(e.scheduleRecursive(function(e){var n;if(!(i.length>0))return void(c=!1);n=i.shift();var o=new Qe;s.add(o),o.setDisposable(n.subscribe(function(e){r.onNext(e);var n=null;try{n=t(e)}catch(o){r.onError(o)}i.push(n),u++,a()},r.onError.bind(r),function(){s.remove(o),u--,0===u&&r.onCompleted()})),e()}))};return i.push(n),u++,a(),s})},Sn.forkJoin=function(){var t=h(arguments,0);return new ar(function(e){var n=t.length;if(0===n)return e.onCompleted(),Xe;for(var r=new Fe,i=!1,o=new Array(n),s=new Array(n),u=new Array(n),c=0;n>c;c++)!function(c){var a=t[c];le(a)&&(a=An(a)),r.add(a.subscribe(function(t){i||(o[c]=!0,u[c]=t)},function(t){i=!0,e.onError(t),r.dispose()},function(){if(!i){if(!o[c])return void e.onCompleted();s[c]=!0;for(var t=0;n>t;t++)if(!s[t])return;i=!0,e.onNext(u),e.onCompleted()}}))}(c);return r})},xn.forkJoin=function(t,e){var n=this;return new ar(function(r){var i,o,s=!1,u=!1,c=!1,a=!1,l=new Qe,f=new Qe;return le(t)&&(t=An(t)),l.setDisposable(n.subscribe(function(t){c=!0,i=t},function(t){f.dispose(),r.onError(t)},function(){if(s=!0,u)if(c)if(a){var t;try{t=e(i,o)}catch(n){return void r.onError(n)}r.onNext(t),r.onCompleted()}else r.onCompleted();else r.onCompleted()})),f.setDisposable(t.subscribe(function(t){a=!0,o=t},function(t){l.dispose(),r.onError(t)},function(){if(u=!0,s)if(c)if(a){var t;try{t=e(i,o)}catch(n){return void r.onError(n)}r.onNext(t),r.onCompleted()}else r.onCompleted();else r.onCompleted()})),new Fe(l,f)})},xn.manySelect=function(t,e){e||(e=sn);var n=this;return jn(function(){var r;return n.select(function(t){var e=new ir(t);return r&&r.onNext(t),r=e,e}).doAction(re,function(t){r&&r.onError(t)},function(){r&&r.onCompleted()}).observeOn(e).select(function(e,n,r){return t(e,n,r)})})};var ir=function(t){function e(t){var e=this,n=new Fe;return n.add(un.schedule(function(){t.onNext(e.head),n.add(e.tail.mergeObservable().subscribe(t))})),n}function n(n){t.call(this,e),this.head=n,this.tail=new pr}return Me(n,t),ze(n.prototype,yn,{onCompleted:function(){this.onNext(Sn.empty())},onError:function(t){this.onNext(Sn.throwException(t))},onNext:function(t){this.tail.onNext(t),this.tail.onCompleted()}}),n}(Sn),or=function(){function t(){this.keys=[],this.values=[]}return t.prototype["delete"]=function(t){var e=this.keys.indexOf(t);return-1!==e&&(this.keys.splice(e,1),this.values.splice(e,1)),-1!==e},t.prototype.get=function(t,e){var n=this.keys.indexOf(t);return-1!==n?this.values[n]:e},t.prototype.set=function(t,e){var n=this.keys.indexOf(t);-1!==n&&(this.values[n]=e),this.values[this.keys.push(t)-1]=e},t.prototype.size=function(){return this.keys.length},t.prototype.has=function(t){return-1!==this.keys.indexOf(t)},t.prototype.getKeys=function(){return this.keys.slice(0)},t.prototype.getValues=function(){return this.values.slice(0)},t}();M.prototype.and=function(t){var e=this.patterns.slice(0);return e.push(t),new M(e)},M.prototype.then=function(t){return new z(this,t)},z.prototype.activate=function(t,e,n){for(var r=this,i=[],o=0,s=this.expression.patterns.length;s>o;o++)i.push(U(t,this.expression.patterns[o],e.onError.bind(e)));var u=new I(i,function(){var t;try{t=r.selector.apply(r,arguments)}catch(n){return void e.onError(n)}e.onNext(t)},function(){for(var t=0,e=i.length;e>t;t++)i[t].removeActivePlan(u);n(u)});for(o=0,s=i.length;s>o;o++)i[o].addActivePlan(u);return u},I.prototype.dequeue=function(){for(var t=this.joinObservers.getValues(),e=0,n=t.length;n>e;e++)t[e].queue.shift()},I.prototype.match=function(){var t,e,n,r,i,o=!0;for(e=0,n=this.joinObserverArray.length;n>e;e++)if(0===this.joinObserverArray[e].queue.length){o=!1;break}if(o){for(t=[],r=!1,e=0,n=this.joinObserverArray.length;n>e;e++)t.push(this.joinObserverArray[e].queue[0]),"C"===this.joinObserverArray[e].queue[0].kind&&(r=!0);if(r)this.onCompleted();else{for(this.dequeue(),i=[],e=0;e<t.length;e++)i.push(t[e].value);this.onNext.apply(this,i)}}};var sr=function(t){function e(e,n){t.call(this),this.source=e,this.onError=n,this.queue=[],this.activePlans=[],this.subscription=new Qe,this.isDisposed=!1}Me(e,t);var n=e.prototype;return n.next=function(t){if(!this.isDisposed){if("E"===t.kind)return void this.onError(t.exception);this.queue.push(t);for(var e=this.activePlans.slice(0),n=0,r=e.length;r>n;n++)e[n].match()}},n.error=re,n.completed=re,n.addActivePlan=function(t){this.activePlans.push(t)},n.subscribe=function(){this.subscription.setDisposable(this.source.materialize().subscribe(this))},n.removeActivePlan=function(t){var e=this.activePlans.indexOf(t);this.activePlans.splice(e,1),0===this.activePlans.length&&this.dispose()},n.dispose=function(){t.prototype.dispose.call(this),this.isDisposed||(this.isDisposed=!0,this.subscription.dispose())},e}(En);xn.and=function(t){return new M([this,t])},xn.then=function(t){return new M([this]).then(t)},Sn.when=function(){var t=h(arguments,0);return new ar(function(e){var n,r,i,o,s,u,c=[],a=new or;u=wn(e.onNext.bind(e),function(t){for(var n=a.getValues(),r=0,i=n.length;i>r;r++)n[r].onError(t);e.onError(t)},e.onCompleted.bind(e));try{for(r=0,i=t.length;i>r;r++)c.push(t[r].activate(a,u,function(t){var e=c.indexOf(t);c.splice(e,1),0===c.length&&u.onCompleted()}))}catch(l){Tn(l).subscribe(e)}for(n=new Fe,s=a.getValues(),r=0,i=s.length;i>r;r++)o=s[r],o.subscribe(),n.add(o);return n})};var ur=Sn.interval=function(t,e){return e||(e=an),$(t,t,e)},cr=Sn.timer=function(e,n,r){var i;return r||(r=an),n!==t&&"number"==typeof n?i=n:n!==t&&"object"==typeof n&&(r=n),e instanceof Date&&i===t?B(e.getTime(),r):e instanceof Date&&i!==t?(i=n,H(e.getTime(),i,r)):i===t?F(e,r):$(e,i,r)};xn.delay=function(t,e){return e||(e=an),t instanceof Date?G.call(this,t.getTime(),e):J.call(this,t,e)},xn.throttle=function(t,e){e||(e=an);return this.throttleWithSelector(function(){return cr(t,e)})},xn.windowWithTime=function(e,n,r){var i,o=this;return n===t&&(i=e),r===t&&(r=an),"number"==typeof n?i=n:"object"==typeof n&&(i=e,r=n),new ar(function(t){function n(){var e=new Qe,o=!1,s=!1;f.setDisposable(e),a===c?(o=!0,s=!0):c>a?o=!0:s=!0;var p=o?a:c,d=p-h;h=p,o&&(a+=i),s&&(c+=i),e.setDisposable(r.scheduleWithRelative(d,function(){var e;s&&(e=new hr,l.push(e),t.onNext(Ue(e,u))),o&&(e=l.shift(),e.onCompleted()),n()}))}var s,u,c=i,a=e,l=[],f=new Ze,h=0;return s=new Fe(f),u=new Ye(s),l.push(new hr),t.onNext(Ue(l[0],u)),n(),s.add(o.subscribe(function(t){var e,n;for(e=0;e<l.length;e++)n=l[e],n.onNext(t)},function(e){var n,r;for(n=0;n<l.length;n++)r=l[n],r.onError(e);t.onError(e)},function(){var e,n;for(e=0;e<l.length;e++)n=l[e],n.onCompleted();t.onCompleted()})),u})},xn.windowWithTimeOrCount=function(t,e,n){var r=this;return n||(n=an),new ar(function(i){var o,s,u,c,a=0,l=new Ze,f=0;return s=new Fe(l),u=new Ye(s),o=function(e){var r=new Qe;l.setDisposable(r),r.setDisposable(n.scheduleWithRelative(t,function(){var t;e===f&&(a=0,t=++f,c.onCompleted(),c=new hr,i.onNext(Ue(c,u)),o(t))}))},c=new hr,i.onNext(Ue(c,u)),o(0),s.add(r.subscribe(function(t){var n=0,r=!1;c.onNext(t),a++,a===e&&(r=!0,a=0,n=++f,c.onCompleted(),c=new hr,i.onNext(Ue(c,u))),r&&o(n)},function(t){c.onError(t),i.onError(t)},function(){c.onCompleted(),i.onCompleted()})),u})},xn.bufferWithTime=function(){return this.windowWithTime.apply(this,arguments).selectMany(function(t){return t.toArray()})},xn.bufferWithTimeOrCount=function(t,e,n){return this.windowWithTimeOrCount(t,e,n).selectMany(function(t){return t.toArray()})},xn.timeInterval=function(t){var e=this;return t||(t=an),jn(function(){var n=t.now();return e.select(function(e){var r=t.now(),i=r-n;return n=r,{value:e,interval:i}})})},xn.timestamp=function(t){return t||(t=an),this.select(function(e){return{value:e,timestamp:t.now()}})},xn.sample=function(t,e){return e||(e=an),"number"==typeof t?X(this,ur(t,e)):X(this,t)},xn.timeout=function(t,e,n){e||(e=Tn(new Error("Timeout"))),n||(n=an);var r=this,i=t instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new ar(function(o){var s=0,u=new Qe,c=new Ze,a=!1,l=new Ze;c.setDisposable(u);var f=function(){var r=s;l.setDisposable(n[i](t,function(){s===r&&(le(e)&&(e=An(e)),c.setDisposable(e.subscribe(o)))}))};return f(),u.setDisposable(r.subscribe(function(t){a||(s++,o.onNext(t),f())},function(t){a||(s++,o.onError(t))},function(){a||(s++,o.onCompleted())})),new Fe(c,l)})},Sn.generateWithAbsoluteTime=function(t,e,n,r,i,o){return o||(o=an),new ar(function(s){var u,c,a=!0,l=!1,f=t;return o.scheduleRecursiveWithAbsolute(o.now(),function(t){l&&s.onNext(u);try{a?a=!1:f=n(f),l=e(f),l&&(u=r(f),c=i(f))}catch(o){return void s.onError(o)}l?t(c):s.onCompleted()})})},Sn.generateWithRelativeTime=function(t,e,n,r,i,o){return o||(o=an),new ar(function(s){var u,c,a=!0,l=!1,f=t;return o.scheduleRecursiveWithRelative(0,function(t){l&&s.onNext(u);try{a?a=!1:f=n(f),l=e(f),l&&(u=r(f),c=i(f))}catch(o){return void s.onError(o)}l?t(c):s.onCompleted()})})},xn.delaySubscription=function(t,e){return e||(e=an),this.delayWithSelector(cr(t,e),function(){return Dn()})},xn.delayWithSelector=function(t,e){var n,r,i=this;return"function"==typeof t?r=t:(n=t,r=e),new ar(function(t){var e=new Fe,o=!1,s=function(){o&&0===e.length&&t.onCompleted()},u=new Ze,c=function(){u.setDisposable(i.subscribe(function(n){var i;try{i=r(n)}catch(o){return void t.onError(o)}var u=new Qe;e.add(u),u.setDisposable(i.subscribe(function(){t.onNext(n),e.remove(u),s()},t.onError.bind(t),function(){t.onNext(n),e.remove(u),s()}))},t.onError.bind(t),function(){o=!0,u.dispose(),s()}))};return n?u.setDisposable(n.subscribe(function(){c()},t.onError.bind(t),function(){c()})):c(),new Fe(u,e)})},xn.timeoutWithSelector=function(t,e,n){if(1===arguments.length){e=t;var t=Wn()}n||(n=Tn(new Error("Timeout")));var r=this;return new ar(function(i){var o=new Ze,s=new Ze,u=new Qe;o.setDisposable(u);var c=0,a=!1,l=function(t){var e=c,r=function(){return c===e},u=new Qe;s.setDisposable(u),u.setDisposable(t.subscribe(function(){r()&&o.setDisposable(n.subscribe(i)),u.dispose()},function(t){r()&&i.onError(t)},function(){r()&&o.setDisposable(n.subscribe(i))}))};l(t);var f=function(){var t=!a;return t&&c++,t};return u.setDisposable(r.subscribe(function(t){if(f()){i.onNext(t);var n;try{n=e(t)}catch(r){return void i.onError(r)}l(n)}},function(t){f()&&i.onError(t)},function(){f()&&i.onCompleted()})),new Fe(o,s)})},xn.throttleWithSelector=function(t){var e=this;return new ar(function(n){var r,i=!1,o=new Ze,s=0,u=e.subscribe(function(e){var u;try{u=t(e)}catch(c){return void n.onError(c)}i=!0,r=e,s++;var a=s,l=new Qe;o.setDisposable(l),l.setDisposable(u.subscribe(function(){i&&s===a&&n.onNext(r),i=!1,l.dispose()},n.onError.bind(n),function(){i&&s===a&&n.onNext(r),i=!1,l.dispose()}))},function(t){o.dispose(),n.onError(t),i=!1,s++},function(){o.dispose(),i&&n.onNext(r),n.onCompleted(),i=!1,s++});return new Fe(u,o)})},xn.skipLastWithTime=function(t,e){e||(e=an);var n=this;return new ar(function(r){var i=[];return n.subscribe(function(n){var o=e.now();for(i.push({interval:o,value:n});i.length>0&&o-i[0].interval>=t;)r.onNext(i.shift().value)},r.onError.bind(r),function(){for(var n=e.now();i.length>0&&n-i[0].interval>=t;)r.onNext(i.shift().value);r.onCompleted()})})},xn.takeLastWithTime=function(t,e,n){return this.takeLastBufferWithTime(t,e).selectMany(function(t){return _n(t,n)})},xn.takeLastBufferWithTime=function(t,e){var n=this;return e||(e=an),new ar(function(r){var i=[];return n.subscribe(function(n){var r=e.now();for(i.push({interval:r,value:n});i.length>0&&r-i[0].interval>=t;)i.shift()},r.onError.bind(r),function(){for(var n=e.now(),o=[];i.length>0;){var s=i.shift();n-s.interval<=t&&o.push(s.value)}r.onNext(o),r.onCompleted()})})},xn.takeWithTime=function(t,e){var n=this;return e||(e=an),new ar(function(r){var i=e.scheduleWithRelative(t,function(){r.onCompleted()});return new Fe(i,n.subscribe(r))})},xn.skipWithTime=function(t,e){var n=this;return e||(e=an),new ar(function(r){var i=!1,o=e.scheduleWithRelative(t,function(){i=!0}),s=n.subscribe(function(t){i&&r.onNext(t)},r.onError.bind(r),r.onCompleted.bind(r));return new Fe(o,s)})},xn.skipUntilWithTime=function(t,e){e||(e=an);var n=this,r=t instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new ar(function(i){var o=!1;return new Fe(e[r](t,function(){o=!0}),n.subscribe(function(t){o&&i.onNext(t)},i.onError.bind(i),i.onCompleted.bind(i)))})},xn.takeUntilWithTime=function(t,e){e||(e=an);var n=this,r=t instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new ar(function(i){return new Fe(e[r](t,function(){i.onCompleted()}),n.subscribe(i))})},xn.exclusive=function(){var t=this;return new ar(function(e){var n=!1,r=!1,i=new Qe,o=new Fe;return o.add(i),i.setDisposable(t.subscribe(function(t){if(!n){n=!0,le(t)&&(t=An(t));var i=new Qe;o.add(i),i.setDisposable(t.subscribe(e.onNext.bind(e),e.onError.bind(e),function(){o.remove(i),n=!1,r&&1===o.length&&e.onCompleted()}))}},e.onError.bind(e),function(){r=!0,n||1!==o.length||e.onCompleted()})),o})},xn.exclusiveMap=function(t,e){var n=this;return new ar(function(r){var i=0,o=!1,s=!0,u=new Qe,c=new Fe;return c.add(u),u.setDisposable(n.subscribe(function(n){o||(o=!0,innerSubscription=new Qe,c.add(innerSubscription),le(n)&&(n=An(n)),innerSubscription.setDisposable(n.subscribe(function(o){var s;try{s=t.call(e,o,i++,n)}catch(u){return void r.onError(u)}r.onNext(s)},r.onError.bind(r),function(){c.remove(innerSubscription),o=!1,s&&1===c.length&&r.onCompleted()})))},r.onError.bind(r),function(){s=!0,1!==c.length||o||r.onCompleted()})),c})},ne.VirtualTimeScheduler=function(t){function e(){throw new Error("Not implemented")}function n(){return this.toDateTimeOffset(this.clock)}function r(t,e){return this.scheduleAbsoluteWithState(t,this.clock,e)}function i(t,e,n){return this.scheduleRelativeWithState(t,this.toRelative(e),n)}function o(t,e,n){return this.scheduleRelativeWithState(t,this.toRelative(e-this.now()),n)}function s(t,e){return e(),Xe}function u(e,s){this.clock=e,this.comparer=s,this.isEnabled=!1,this.queue=new Be(1024),t.call(this,n,r,i,o)}Me(u,t);var c=u.prototype;return c.add=e,c.toDateTimeOffset=e,c.toRelative=e,c.schedulePeriodicWithState=function(t,e,n){var r=new on(this,t,e,n);return r.start()},c.scheduleRelativeWithState=function(t,e,n){var r=this.add(this.clock,e);return this.scheduleAbsoluteWithState(t,r,n)},c.scheduleRelative=function(t,e){return this.scheduleRelativeWithState(e,t,s)},c.start=function(){var t;if(!this.isEnabled){this.isEnabled=!0;do t=this.getNext(),null!==t?(this.comparer(t.dueTime,this.clock)>0&&(this.clock=t.dueTime),t.invoke()):this.isEnabled=!1;while(this.isEnabled)}},c.stop=function(){this.isEnabled=!1},c.advanceTo=function(t){var e,n=this.comparer(this.clock,t);if(this.comparer(this.clock,t)>0)throw new Error(he);if(0!==n&&!this.isEnabled){this.isEnabled=!0;do e=this.getNext(),null!==e&&this.comparer(e.dueTime,t)<=0?(this.comparer(e.dueTime,this.clock)>0&&(this.clock=e.dueTime),e.invoke()):this.isEnabled=!1;while(this.isEnabled);this.clock=t}},c.advanceBy=function(t){var e=this.add(this.clock,t),n=this.comparer(this.clock,e);if(n>0)throw new Error(he);0!==n&&this.advanceTo(e)},c.sleep=function(t){var e=this.add(this.clock,t);if(this.comparer(this.clock,e)>=0)throw new Error(he);this.clock=e},c.getNext=function(){for(var t;this.queue.length>0;){if(t=this.queue.peek(),!t.isCancelled())return t;this.queue.dequeue()}return null},c.scheduleAbsolute=function(t,e){return this.scheduleAbsoluteWithState(e,t,s)},c.scheduleAbsoluteWithState=function(t,e,n){var r=this,i=function(t,e){return r.queue.remove(o),n(t,e)},o=new tn(r,t,i,e,r.comparer);return r.queue.enqueue(o),o.disposable},u}(nn),ne.HistoricalScheduler=function(t){function e(e,n){var r=null==e?0:e,i=n||ue;t.call(this,r,i)}Me(e,t);var n=e.prototype;return n.add=function(t,e){return t+e},n.toDateTimeOffset=function(t){return new Date(t).getTime()},n.toRelative=function(t){return t},e}(ne.VirtualTimeScheduler);var ar=ne.AnonymousObservable=function(t){function e(t){return"undefined"==typeof t?t=Xe:"function"==typeof t&&(t=Ge(t)),t}function n(r){function i(t){var n=function(){try{i.setDisposable(e(r(i)))}catch(t){if(!i.fail(t))throw t}},i=new lr(t);return un.scheduleRequired()?un.schedule(n):n(),i}return this instanceof n?void t.call(this,i):new n(r)}return Me(n,t),n}(Sn),lr=function(t){function e(e){t.call(this),this.observer=e,this.m=new Qe}Me(e,t);var n=e.prototype;return n.next=function(t){var e=!1;try{this.observer.onNext(t),e=!0}catch(n){throw n}finally{e||this.dispose()}},n.error=function(t){try{this.observer.onError(t)}catch(e){throw e}finally{this.dispose()}},n.completed=function(){try{this.observer.onCompleted()}catch(t){throw t}finally{this.dispose()}},n.setDisposable=function(t){this.m.setDisposable(t)},n.getDisposable=function(){return this.m.getDisposable()},n.disposable=function(t){return arguments.length?this.getDisposable():setDisposable(t)},n.dispose=function(){t.prototype.dispose.call(this),this.m.dispose()},e}(En),fr=function(t){function e(t){return this.underlyingObservable.subscribe(t)}function n(n,r,i){t.call(this,e),this.key=n,this.underlyingObservable=i?new ar(function(t){return new Fe(i.getDisposable(),r.subscribe(t))}):r}return Me(n,t),n}(Sn),hr=ne.Subject=function(t){function e(t){return r.call(this),this.isStopped?this.exception?(t.onError(this.exception),Xe):(t.onCompleted(),Xe):(this.observers.push(t),new Gn(this,t))}function n(){t.call(this,e),this.isDisposed=!1,this.isStopped=!1,this.observers=[]}return Me(n,t),ze(n.prototype,yn,{hasObservers:function(){return this.observers.length>0},onCompleted:function(){if(r.call(this),!this.isStopped){var t=this.observers.slice(0);this.isStopped=!0;for(var e=0,n=t.length;n>e;e++)t[e].onCompleted();this.observers=[]}},onError:function(t){if(r.call(this),!this.isStopped){var e=this.observers.slice(0);this.isStopped=!0,this.exception=t;for(var n=0,i=e.length;i>n;n++)e[n].onError(t);this.observers=[]}},onNext:function(t){if(r.call(this),!this.isStopped)for(var e=this.observers.slice(0),n=0,i=e.length;i>n;n++)e[n].onNext(t)},dispose:function(){this.isDisposed=!0,this.observers=null}}),n.create=function(t,e){return new dr(t,e)},n}(Sn),pr=ne.AsyncSubject=function(t){function e(t){if(r.call(this),!this.isStopped)return this.observers.push(t),new Gn(this,t);var e=this.exception,n=this.hasValue,i=this.value;return e?t.onError(e):n?(t.onNext(i),t.onCompleted()):t.onCompleted(),Xe}function n(){t.call(this,e),this.isDisposed=!1,this.isStopped=!1,this.value=null,this.hasValue=!1,this.observers=[],this.exception=null}return Me(n,t),ze(n.prototype,yn,{hasObservers:function(){return r.call(this),this.observers.length>0},onCompleted:function(){var t,e,n;if(r.call(this),!this.isStopped){this.isStopped=!0;var i=this.observers.slice(0),o=this.value,s=this.hasValue;if(s)for(e=0,n=i.length;n>e;e++)t=i[e],t.onNext(o),t.onCompleted();else for(e=0,n=i.length;n>e;e++)i[e].onCompleted();this.observers=[]}},onError:function(t){if(r.call(this),!this.isStopped){var e=this.observers.slice(0);
this.isStopped=!0,this.exception=t;for(var n=0,i=e.length;i>n;n++)e[n].onError(t);this.observers=[]}},onNext:function(t){r.call(this),this.isStopped||(this.value=t,this.hasValue=!0)},dispose:function(){this.isDisposed=!0,this.observers=null,this.exception=null,this.value=null}}),n}(Sn),dr=function(t){function e(t){return this.observable.subscribe(t)}function n(n,r){t.call(this,e),this.observer=n,this.observable=r}return Me(n,t),ze(n.prototype,yn,{onCompleted:function(){this.observer.onCompleted()},onError:function(t){this.observer.onError(t)},onNext:function(t){this.observer.onNext(t)}}),n}(Sn);"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Q.Rx=ne,define(function(){return ne})):Z&&Y?te?(Y.exports=ne).Rx=ne:Z.Rx=ne:Q.Rx=ne}).call(this)},{}],14:[function(t,e,n){(function(r){var i={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},o=i[typeof window]&&window||this,s=i[typeof n]&&n&&!n.nodeType&&n,u=i[typeof e]&&e&&!e.nodeType&&e,c=(u&&u.exports===s&&s,i[typeof global]&&global);!c||c.global!==c&&c.window!==c||(o=c),"function"==typeof define&&define.amd?define(["rx.virtualtime","exports"],function(t,e){return o.Rx=r(o,e,t),o.Rx}):"object"==typeof e&&e&&e.exports===s?e.exports=r(o,e.exports,t("./rx.all")):o.Rx=r(o,{},o.Rx)}).call(this,function(t,e,n){function r(t,e){return 1===t.length&&Array.isArray(t[e])?t[e]:d.call(t)}function i(t){this.predicate=t}function o(t){this.predicate=t}var s=n.Observer,u=n.Observable,c=n.Notification,a=n.VirtualTimeScheduler,l=n.Disposable,f=l.empty,h=l.create,p=n.CompositeDisposable,d=(n.SingleAssignmentDisposable,Array.prototype.slice),v=n.internals.inherits,b=n.internals.isEqual;i.prototype.equals=function(t){return t===this?!0:null==t?!1:"N"!==t.kind?!1:this.predicate(t.value)},o.prototype.equals=function(t){return t===this?!0:null==t?!1:"E"!==t.kind?!1:this.predicate(t.exception)};var m=n.ReactiveTest={created:100,subscribed:200,disposed:1e3,onNext:function(t,e){return"function"==typeof e?new g(t,new i(e)):new g(t,c.createOnNext(e))},onError:function(t,e){return"function"==typeof e?new g(t,new o(e)):new g(t,c.createOnError(e))},onCompleted:function(t){return new g(t,c.createOnCompleted())},subscribe:function(t,e){return new y(t,e)}},g=n.Recorded=function(t,e,n){this.time=t,this.value=e,this.comparer=n||b};g.prototype.equals=function(t){return this.time===t.time&&this.comparer(this.value,t.value)},g.prototype.toString=function(){return this.value.toString()+"@"+this.time};var y=n.Subscription=function(t,e){this.subscribe=t,this.unsubscribe=e||Number.MAX_VALUE};y.prototype.equals=function(t){return this.subscribe===t.subscribe&&this.unsubscribe===t.unsubscribe},y.prototype.toString=function(){return"("+this.subscribe+", "+this.unsubscribe===Number.MAX_VALUE?"Infinite":this.unsubscribe+")"};var w=n.MockDisposable=function(t){this.scheduler=t,this.disposes=[],this.disposes.push(this.scheduler.clock)};w.prototype.dispose=function(){this.disposes.push(this.scheduler.clock)};var x=function(t){function e(e){t.call(this),this.scheduler=e,this.messages=[]}v(e,t);var n=e.prototype;return n.onNext=function(t){this.messages.push(new g(this.scheduler.clock,c.createOnNext(t)))},n.onError=function(t){this.messages.push(new g(this.scheduler.clock,c.createOnError(t)))},n.onCompleted=function(){this.messages.push(new g(this.scheduler.clock,c.createOnCompleted()))},e}(s),E=function(t){function e(t){var e=this;this.observers.push(t),this.subscriptions.push(new y(this.scheduler.clock));var n=this.subscriptions.length-1;return h(function(){var r=e.observers.indexOf(t);e.observers.splice(r,1),e.subscriptions[n]=new y(e.subscriptions[n].subscribe,e.scheduler.clock)})}function n(n,r){t.call(this,e);var i,o,s=this;this.scheduler=n,this.messages=r,this.subscriptions=[],this.observers=[];for(var u=0,c=this.messages.length;c>u;u++)i=this.messages[u],o=i.value,function(t){n.scheduleAbsoluteWithState(null,i.time,function(){for(var e=s.observers.slice(0),n=0,r=e.length;r>n;n++)t.accept(e[n]);return f})}(o)}return v(n,t),n}(u),C=function(t){function e(t){var e,n,r=this;this.subscriptions.push(new y(this.scheduler.clock));for(var i=this.subscriptions.length-1,o=new p,s=0,u=this.messages.length;u>s;s++)e=this.messages[s],n=e.value,function(n){o.add(r.scheduler.scheduleRelativeWithState(null,e.time,function(){return n.accept(t),f}))}(n);return h(function(){r.subscriptions[i]=new y(r.subscriptions[i].subscribe,r.scheduler.clock),o.dispose()})}function n(n,r){t.call(this,e),this.scheduler=n,this.messages=r,this.subscriptions=[]}return v(n,t),n}(u);return n.TestScheduler=function(t){function e(t,e){return t>e?1:e>t?-1:0}function n(){t.call(this,0,e)}return v(n,t),n.prototype.scheduleAbsoluteWithState=function(e,n,r){return n<=this.clock&&(n=this.clock+1),t.prototype.scheduleAbsoluteWithState.call(this,e,n,r)},n.prototype.add=function(t,e){return t+e},n.prototype.toDateTimeOffset=function(t){return new Date(t).getTime()},n.prototype.toRelative=function(t){return t},n.prototype.startWithTiming=function(t,e,n,r){var i,o,s=this.createObserver();return this.scheduleAbsoluteWithState(null,e,function(){return i=t(),f}),this.scheduleAbsoluteWithState(null,n,function(){return o=i.subscribe(s),f}),this.scheduleAbsoluteWithState(null,r,function(){return o.dispose(),f}),this.start(),s},n.prototype.startWithDispose=function(t,e){return this.startWithTiming(t,m.created,m.subscribed,e)},n.prototype.startWithCreate=function(t){return this.startWithTiming(t,m.created,m.subscribed,m.disposed)},n.prototype.createHotObservable=function(){var t=r(arguments,0);return new E(this,t)},n.prototype.createColdObservable=function(){var t=r(arguments,0);return new C(this,t)},n.prototype.createObserver=function(){return new x(this)},n}(a),n})},{"./rx.all":13}],15:[function(t,e){var n=t("./dist/rx.all");t("./dist/rx.testing");var r=t("events").EventEmitter,i=n.Observable;n.Node={fromCallback:function(t,e,n,r){return i.fromCallback(t,e,n,r)},fromNodeCallback:function(t,e,n,r){return i.fromNodeCallback(t,e,n,r)},fromEvent:function(t,e,n){return i.fromEvent(t,e,n)},toEventEmitter:function(t,e,n){var i=new r;return n||(n=function(t){return t}),i.publish=function(){i.subscription=t.subscribe(function(t){i.emit(e,n(t))},function(t){i.emit("error",t)},function(){i.emit("end")})},i},fromStream:function(t){return i.create(function(e){function n(t){e.onNext(t)}function r(t){e.onError(t)}function i(){e.onCompleted()}return t.addListener("data",n),t.addListener("error",r),t.addListener("end",i),function(){t.removeListener("data",n),t.removeListener("error",r),t.removeListener("end",i)}}).publish().refCount()},writeToStream:function(t,e,n){return t.subscribe(function(t){e.write(String(t),n)},function(t){e.emit("error",t)},function(){!e._isStdio&&e.end()})}},e.exports=n},{"./dist/rx.all":13,"./dist/rx.testing":14,events:3}],16:[function(t,e){var n,r,i,o,s,u,c;r=t("rx"),n=t("rxmarbles/models/examples"),o=t("rxmarbles/controllers/selected-example"),s=t("rxmarbles/controllers/utils"),i=t("rxmarbles/views/sandbox"),u=new r.BehaviorSubject(null),o.stream.map(function(t){return t.inputs.map(s.prepareInputDiagram)}).subscribe(function(t){return u.onNext(t),!0}),c=i.getStreamOfArrayOfLiveInputDiagramStreams(),e.exports={initial$:u,continuous$:c}},{rx:15,"rxmarbles/controllers/selected-example":18,"rxmarbles/controllers/utils":19,"rxmarbles/models/examples":23,"rxmarbles/views/sandbox":32}],17:[function(t,e){var n,r,i,o,s,u,c,a=[].slice;o=t("rx"),u=t("rxmarbles/controllers/utils"),i=t("rxmarbles/controllers/input-diagrams"),s=t("rxmarbles/controllers/selected-example"),r=t("rxmarbles/models/examples"),n=100,c=i.continuous$.filter(function(t){return null!==t}).flatMapLatest(function(t){return o.Observable.combineLatest(t,function(){var t;return t=1<=arguments.length?a.call(arguments,0):[]})}).combineLatest(s.stream,function(t,e){var r,i,o,s,c,a;return i=n+1,a=u.makeScheduler(),o=function(){var e,n,o;for(o=[],e=0,n=t.length;n>e;e++)r=t[e],o.push(u.toVTStream(r,a,i));return o}(),c=e.apply(o,a),c=c.takeUntilWithTime(i,a),s=u.getDiagramPromise(c,a,i),a.start(),s}).mergeAll(),e.exports=c},{rx:15,"rxmarbles/controllers/input-diagrams":16,"rxmarbles/controllers/selected-example":18,"rxmarbles/controllers/utils":19,"rxmarbles/models/examples":23}],18:[function(t,e){var n,r,i,o,s,u;i=t("rx"),n=t("rxmarbles/models/examples"),r=t("rxmarbles/views/operators-menu"),u=window.location.hash.replace("#","")||"merge",s=r.getSelected$().startWith(u),o=s.map(function(t){var e;return e=n[t],e.key=t,e}),e.exports={stream:o}},{rx:15,"rxmarbles/models/examples":23,"rxmarbles/views/operators-menu":30}],19:[function(t,e){var n,r,i,o,s,u,c,a,l;n=t("rx"),s=function(){var t;return t=new n.VirtualTimeScheduler(0,function(t,e){return t>e?1:e>t?-1:0}),t.add=function(t,e){return t+e},t.toDateTimeOffset=function(t){return Math.floor(t)},t.toRelative=function(t){return t},t},r=function(t){var e,n;return e=877,n=0,"string"==typeof t?n=t.split("").map(function(t){return t.charCodeAt(0)}).reduce(function(t,e){return t+e}):"number"==typeof t&&(n=t*e),n},i=function(t){var e,n,i,o;return i=7,e=1046527,n=1e5,o=r(t.content),(t.time+o+i)*e%n},c=function(t){var e;return e={},e.time="undefined"==typeof t.time?t.t:t.time,e.content="undefined"==typeof t.content?t.d:t.content,e.id=null!=t.id?t.id:i(e),e},u=function(t){var e;return function(){var n,r,i;for(i=[],n=0,r=t.length;r>n;n++)e=t[n],i.push(c(e));return i}()},a=function(t){return t.map(u)},l=function(t,e,r){var i,o,s,u;for(o=[],s=0,u=t.length;u>s;s++)i=t[s],o.push(n.Observable.just(i,e).delay(i.t||i.time,e));return n.Observable.merge(o).takeUntilWithTime(r,e).publish().refCount()},o=function(t,e,i){var o;return o=new n.BehaviorSubject([]),t.observeOn(e).timestamp(e).map(function(t){return"object"!=typeof t.value&&(t.value={content:t.value,id:r(t.value)}),{time:t.timestamp/i*100,content:t.value.content,id:t.value.id}}).reduce(function(t,e){return t.push(e),t},[]).subscribe(function(t){return o.onNext(t),!0},function(){return console.warn("Error in the diagram promise stream"),0}),o.asObservable()},e.exports={makeScheduler:s,toVTStream:l,prepareInputDiagramStream:a,prepareInputDiagram:u,getDiagramPromise:o}},{rx:15}],20:[function(t,e){var n;n=t("rx"),e.exports={all:{label:"all(x => x < 10)",inputs:[[{t:5,d:1},{t:15,d:2},{t:25,d:3},{t:35,d:4},{t:65,d:5}]],apply:function(t){return t[0].all(function(t){return t.content<10})}},contains:{label:"contains(22)",inputs:[[{t:5,d:2},{t:15,d:30},{t:25,d:22},{t:35,d:5},{t:45,d:60},{t:55,d:1}]],apply:function(t){return t[0].contains({content:22},function(t,e){return t.content===e.content})}}}},{rx:15}],21:[function(t,e){var n;n=t("rx"),e.exports={combineLatest:{label:'combineLatest((x, y) => "" + x + y)',inputs:[[{t:0,d:1},{t:20,d:2},{t:65,d:3},{t:75,d:4},{t:92,d:5}],[{t:10,d:"A"},{t:25,d:"B"},{t:50,d:"C"},{t:57,d:"D"}]],apply:function(t){return n.Observable.combineLatest(t[0],t[1],function(t,e){return""+t.content+e.content})}},concat:{label:"concat",inputs:[[{t:0,d:1},{t:15,d:1},{t:50,d:1}],[{t:13,d:2},{t:30,d:2}]],apply:function(t){return n.Observable.concat(t)}},merge:{label:"merge",inputs:[[{t:0,d:20},{t:15,d:40},{t:30,d:60},{t:45,d:80},{t:60,d:100}],[{t:37,d:1},{t:68,d:1}]],apply:function(t){return n.Observable.merge(t)}},sample:{label:"sample",inputs:[[{t:0,d:1},{t:20,d:2},{t:40,d:3},{t:60,d:4},{t:80,d:5}],[{t:10,d:"A"},{t:25,d:"B"},{t:33,d:"C"},{t:70,d:"D"}]],apply:function(t){return t[0].sample(t[1])}},startWith:{label:"startWith(1)",inputs:[[{t:30,d:2},{t:40,d:3}]],apply:function(t,e){return t[0].startWith(e,1)}},zip:{label:"zip",inputs:[[{t:0,d:1},{t:20,d:2},{t:65,d:3},{t:75,d:4},{t:92,d:5}],[{t:10,d:"A"},{t:25,d:"B"},{t:50,d:"C"},{t:57,d:"D"}]],apply:function(t){return n.Observable.zip(t[0],t[1],function(t,e){return""+t.content+e.content})}}}},{rx:15}],22:[function(t,e){var n;n=t("rx"),e.exports={amb:{label:"amb",inputs:[[{t:10,d:20},{t:20,d:40},{t:30,d:60}],[{t:5,d:1},{t:15,d:2},{t:25,d:3}],[{t:20,d:0},{t:32,d:0},{t:44,d:0}]],apply:function(t){return n.Observable.amb(t)}}}},{rx:15}],23:[function(t,e){var n,r,i,o,s,u,c,a,l,f=[].slice,h={}.hasOwnProperty;n=t("rx"),l=t("rxmarbles/models/transform-examples"),o=t("rxmarbles/models/combine-examples"),u=t("rxmarbles/models/filter-examples"),c=t("rxmarbles/models/math-examples"),i=t("rxmarbles/models/boolean-examples"),s=t("rxmarbles/models/conditional-examples"),a=function(){var t,e,n,r,i,o,s;for(t=1<=arguments.length?f.call(arguments,0):[],r={},o=0,s=t.length;s>o;o++){n=t[o];for(e in n)h.call(n,e)&&(i=n[e],r[e]=n[e])}return r},r=function(t,e){var n,r;for(n in t)h.call(t,n)&&(r=t[n],t[n].category=e);return t},e.exports=a(r(l,"Transforming Operators"),r(o,"Combining Operators"),r(u,"Filtering Operators"),r(c,"Mathematical Operators"),r(i,"Boolean Operators"),r(s,"Conditional Operators"))},{rx:15,"rxmarbles/models/boolean-examples":20,"rxmarbles/models/combine-examples":21,"rxmarbles/models/conditional-examples":22,"rxmarbles/models/filter-examples":24,"rxmarbles/models/math-examples":25,"rxmarbles/models/transform-examples":26}],24:[function(t,e){var n;n=t("rx"),e.exports={distinct:{label:"distinct",inputs:[[{t:5,d:1},{t:20,d:2},{t:35,d:2},{t:60,d:1},{t:70,d:3}]],apply:function(t){return t[0].distinct(function(t){return t.content})}},distinctUntilChanged:{label:"distinctUntilChanged",inputs:[[{t:5,d:1},{t:20,d:2},{t:35,d:2},{t:60,d:1},{t:70,d:3}]],apply:function(t){return t[0].distinctUntilChanged(function(t){return t.content})}},elementAt:{label:"elementAt(2)",inputs:[[{t:30,d:1},{t:40,d:2},{t:65,d:3},{t:75,d:4}]],apply:function(t){return t[0].elementAt(2)}},filter:{label:"filter(x => x > 10)",inputs:[[{t:5,d:2},{t:15,d:30},{t:25,d:22},{t:35,d:5},{t:45,d:60},{t:55,d:1}]],apply:function(t){return t[0].filter(function(t){return t.content>10})}},find:{label:"find(x => x > 10)",inputs:[[{t:5,d:2},{t:15,d:30},{t:25,d:22},{t:35,d:5},{t:45,d:60},{t:55,d:1}]],apply:function(t){return t[0].find(function(t){return t.content>10})}},first:{label:"first",inputs:[[{t:30,d:1},{t:40,d:2},{t:65,d:3},{t:75,d:4}]],apply:function(t){return t[0].first()}},last:{label:"last",inputs:[[{t:30,d:1},{t:40,d:2},{t:65,d:3},{t:75,d:4}]],apply:function(t){return t[0].last()}},skip:{label:"skip(2)",inputs:[[{t:30,d:1},{t:40,d:2},{t:65,d:3},{t:75,d:4}]],apply:function(t){return t[0].skip(2)}},skipUntil:{label:"skipUntil",inputs:[[{t:0,d:1},{t:10,d:2},{t:20,d:3},{t:30,d:4},{t:40,d:5},{t:50,d:6},{t:60,d:7},{t:70,d:8},{t:80,d:9}],[{t:47,d:0},{t:73,d:0}]],apply:function(t){return t[0].skipUntil(t[1])}},take:{label:"take(2)",inputs:[[{t:30,d:1},{t:40,d:2},{t:65,d:3},{t:75,d:4}]],apply:function(t,e){return t[0].take(2,e)}},takeUntil:{label:"takeUntil",inputs:[[{t:0,d:1},{t:10,d:2},{t:20,d:3},{t:30,d:4},{t:40,d:5},{t:50,d:6},{t:60,d:7},{t:70,d:8},{t:80,d:9}],[{t:47,d:0},{t:73,d:0}]],apply:function(t){return t[0].takeUntil(t[1])}}}},{rx:15}],25:[function(t,e){var n;n=t("rx"),e.exports={aggregate:{label:"aggregate((x, y) => x + y)",inputs:[[{t:5,d:1},{t:15,d:2},{t:25,d:3},{t:35,d:4},{t:65,d:5}]],apply:function(t){return t[0].aggregate(function(t,e){return{content:t.content+e.content,time:t.time,id:t.id+e.id}})}},average:{label:"average",inputs:[[{t:5,d:1},{t:15,d:2},{t:30,d:2},{t:50,d:2},{t:65,d:5}]],apply:function(t){return t[0].average(function(t){return t.content})}},count:{label:"count(x => x > 10)",inputs:[[{t:5,d:2},{t:15,d:30},{t:25,d:22},{t:35,d:5},{t:45,d:60},{t:55,d:1}]],apply:function(t){return t[0].count(function(t){return t.content>10})}},max:{label:"max",inputs:[[{t:5,d:2},{t:15,d:30},{t:25,d:22},{t:35,d:5},{t:45,d:60},{t:55,d:1}]],apply:function(t){return t[0].max(function(t,e){return t.content>e.content?1:t.content<e.content?-1:0})}},min:{label:"min",inputs:[[{t:5,d:2},{t:15,d:30},{t:25,d:22},{t:35,d:5},{t:45,d:60},{t:55,d:1}]],apply:function(t){return t[0].min(function(t,e){return t.content>e.content?1:t.content<e.content?-1:0})}}}},{rx:15}],26:[function(t,e){var n;n=t("rx"),e.exports={delay:{label:"delay",inputs:[[{t:0,d:1},{t:10,d:2}]],apply:function(t,e){return t[0].delay(20,e)}},map:{label:"map(x => 10 * x)",inputs:[[{t:10,d:1},{t:20,d:2},{t:50,d:3}]],apply:function(t){return t[0].map(function(t){return{content:10*t.content,time:t.time,id:t.id}})}},scan:{label:"scan((x, y) => x + y)",inputs:[[{t:5,d:1},{t:15,d:2},{t:25,d:3},{t:35,d:4},{t:65,d:5}]],apply:function(t){return t[0].scan(function(t,e){return{content:t.content+e.content,time:t.time,id:t.id+e.id}})}},throttle:{label:"throttle",inputs:[[{t:0,d:1},{t:26,d:2},{t:34,d:3},{t:40,d:4},{t:45,d:5},{t:90,d:6}]],apply:function(t,e){return t[0].throttle(20,e)}}}},{rx:15}],27:[function(t,e){var n,r,i,o,s,u,c=[].slice;r=t("rx"),n=t("rxmarbles/views/marble"),i=function(){var t;return t=document.createElement("div"),t.className="arrow",t},o=function(){var t;return t=document.createElement("div"),t.className="arrow-head",t},s=function(t){var e,n,r,i;for(n=document.createElement("div"),n.className="marbles",r=0,i=t.length;i>r;r++)e=t[r],n.appendChild(e);return n},u=function(t){var e;return r.Observable.combineLatest(function(){var n,r,i;for(i=[],n=0,r=t.length;r>n;n++)e=t[n],i.push(e.dataStream);return i}(),function(){var t;return t=1<=arguments.length?c.call(arguments,0):[]})},e.exports={render:function(t){var e,r,c;return e=document.createElement("div"),e.className="diagram",e.appendChild(i()),e.appendChild(o()),c=function(){var e,i,o;for(o=[],e=0,i=t.length;i>e;e++)r=t[e],o.push(n.render(r,!0));return o}(),e.appendChild(s(c)),e.dataStream=u(c),e}}},{rx:15,"rxmarbles/views/marble":28}],28:[function(t,e){var n,r,i,o,s,u,c,a,l,f,h,p,d,v,b,m,g,y;r=t("rx"),b=t("virtual-hyperscript"),g=t("virtual-hyperscript/svg"),a="http://www.w3.org/2000/svg",n=4,c="0 0 1 1",o=.5,s=.5,u=.47,i="0.06px",p=function(t){return r.Observable.fromEvent(t,"mousedown").map(function(){var t,e,n;return e=r.Observable.fromEvent(document,"mousemove"),n=r.Observable.fromEvent(document,"mouseup"),t=e.map(function(t){return t.stopPropagation,t.preventDefault(),t.pageX}).windowWithCount(2,1).flatMap(function(t){return t.toArray()}).map(function(t){return t[1]-t[0]}),t.takeUntil(n)}).concatAll()},d=function(t,e){return p(t).scan(e,function(e,n){var r,i;i=1;try{i=100/t.parentElement.clientWidth}catch(o){r=o,console.warn(r)}return e+n*i}).map(function(t){return 0>t?0:t>100?100:t}).map(Math.round).startWith(e).distinctUntilChanged()},h=function(t){var e;return e=document.createElement("div"),e.className="marble-container",t&&(e.className+=" draggable"),e},f=function(t){var e,r,l;return r=t.id%n+1,l=document.createElementNS(a,"svg"),l.setAttribute("class","marble"),l.setAttribute("viewBox",c),e=document.createElementNS(a,"circle"),e.setAttribute("cx",o),e.setAttribute("cy",s),e.setAttribute("r",u),e.setAttribute("class","marble marble-color-"+r),e.setAttribute("stroke-width",i),l.appendChild(e),l},l=function(t){var e;return e=document.createElement("p"),e.className="marble-content",e.textContent=null!=t?t.content:void 0,e},v=function(t,e,n){return e?d(n,t.time):r.Observable.just(t.time)},y=function(t){var e,n,r;return e=t.id%4+1,r=""+t.time+"%",n=""+t.content,b("div.marble-container",{style:{left:r}},[g("svg",{attributes:{"class":"marble",viewBox:c}},[g("circle",{attributes:{"class":"marble marble-color-"+e,cx:o,cy:s,r:u,"stroke-width":i}})]),b("p.marble-content",{},n)])},m=function(t,e){var n,r;return null==e&&(e=!1),n=h(e),n.appendChild(f(t)),n.appendChild(l(t)),r=v(t,e,n),n.dataStream=r.map(function(e){return{time:e,content:t.content,id:t.id}}),r.subscribe(function(t){return n.style.left=t+"%",!0}),n},e.exports={render:m,virtualRender:y}},{rx:15,"virtual-hyperscript":59,"virtual-hyperscript/svg":87}],29:[function(t,e){var n,r;n=t("hyperscript"),r=function(t){var e;return e=t.length>20?{style:{"font-size":"1.5rem"}}:{},n("span.operator-box-label",e,t)},e.exports={render:function(t){return n("div.operator-box",[r(t.label)])}}},{hyperscript:4}],30:[function(t,e){var n,r,i,o,s,u,c,a,l,f,h,p={}.hasOwnProperty;s=t("hyperscript"),r=t("rx"),n=t("rxmarbles/models/examples"),h=new r.Subject,c=function(t){return s("li.category",""+t)},a=function(t){var e;return e=s("a",{href:"#"+t.key},t.key),r.Observable.fromEvent(e,"click").subscribe(function(){return h.onNext(t.key),!0}),s("li",[e])},l=function(t){var e;return function(){var n,r,i;for(i=[],n=0,r=t.length;r>n;n++)e=t[n],i.push(a(e));return i}()},u=function(t){var e,n,r;e={};for(n in t)p.call(t,n)&&(r=t[n],r.key=n,e.hasOwnProperty(r.category)?e[r.category].push(r):e[r.category]=[r]);return e},f=function(t){var e,n,r,i;i=[],n=u(t);for(r in n)p.call(n,r)&&(e=n[r],i.push(c(r)),i=i.concat(l(e)));return i.push(s("li.category","More")),i.push(s("li","Coming soon...")),i},o=function(){var t,e;return t=document.body,e=document.documentElement,Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)},i=function(t){return r.Observable.timer(1).subscribe(function(){var e;return e=o()-t.getBoundingClientRect().top,t.style.height=""+e+"px",!0})},e.exports={getSelected$:function(){return h},render:function(){var t;return t=s("ul.operators-menu",f(n)),i(t),t}}},{hyperscript:4,rx:15,"rxmarbles/models/examples":23}],31:[function(t,e){var n,r,i,o,s,u;r=t("rx"),o=t("virtual-hyperscript"),n=t("rxmarbles/views/marble"),i={createElement:t("virtual-dom/create-element"),diff:t("virtual-dom/diff"),patch:t("virtual-dom/patch")},u=function(t){var e;return o("div.marbles",function(){var r,i,o;for(o=[],r=0,i=t.length;i>r;r++)e=t[r],o.push(n.virtualRender(e));return o}())},s=function(t){var e;return null===t?o("div.diagram"):(e=[],e.push(o("div.arrow")),e.push(o("div.arrow-head")),e.push(u(t)),o("div.diagram",{},e))},e.exports={render:function(t){var e,n;return n=s(null),e=i.createElement(n),t.subscribe(function(t){var r,o;return r=s(t),o=i.diff(n,r),e=i.patch(e,o),n=r,!0}),e}}},{rx:15,"rxmarbles/views/marble":28,"virtual-dom/create-element":34,"virtual-dom/diff":35,"virtual-dom/patch":54,"virtual-hyperscript":59}],32:[function(t,e){var n,r,i,o,s,u,c,a,l,f;o=t("rx"),l=t("hyperscript"),n=t("rxmarbles/views/input-diagram"),r=t("rxmarbles/views/operator-box"),i=t("rxmarbles/views/output-diagram"),s=t("rxmarbles/views/utils"),f=new o.BehaviorSubject(null),u=function(){var e,r;return e=t("rxmarbles/controllers/input-diagrams"),r=s.renderObservableDOMElement(e.initial$.map(function(t){var e;return function(){var r,i,o;for(o=[],r=0,i=t.length;i>r;r++)e=t[r],o.push(n.render(e));return o}()}).doAction(function(t){var e;return f.onNext(function(){var n,r,i;for(i=[],n=0,r=t.length;r>n;n++)e=t[n],i.push(e.dataStream);return i}())}))},c=function(){var e;return e=t("rxmarbles/controllers/selected-example"),s.renderObservableDOMElement(e.stream.map(function(t){return r.render(t)}))},a=function(){var e;return e=t("rxmarbles/controllers/output-diagram"),i.render(e)},e.exports={getStreamOfArrayOfLiveInputDiagramStreams:function(){return f},render:function(){return l("div.sandbox",[u(),c(),a()])}}},{hyperscript:4,rx:15,"rxmarbles/controllers/input-diagrams":16,"rxmarbles/controllers/output-diagram":17,"rxmarbles/controllers/selected-example":18,"rxmarbles/views/input-diagram":27,"rxmarbles/views/operator-box":29,"rxmarbles/views/output-diagram":31,"rxmarbles/views/utils":33}],33:[function(t,e){e.exports={renderObservableDOMElement:function(t){var e;return e=document.createElement("div"),t.subscribe(function(t){var n,r,i;if(e.innerHTML="",Array.isArray(t))for(r=0,i=t.length;i>r;r++)n=t[r],e.appendChild(n);else t instanceof Element&&e.appendChild(t);return!0}),e}}},{}],34:[function(t,e){var n=t("vdom/create-element");e.exports=n},{"vdom/create-element":38}],35:[function(t,e){var n=t("vtree/diff");e.exports=n},{"vtree/diff":44}],36:[function(t,e){function n(t){return"object"==typeof t&&null!==t}e.exports=n},{}],37:[function(t,e){function n(t,e,n){for(var o in e){var c=e[o];void 0===c?r(t,e,n,o):u(c)?c.hook(t,o,n?n[o]:void 0):s(c)?i(t,e,n,o,c):void 0!==c&&(t[o]=c)}}function r(t,e,n,r){if(n){var i=n[r];if(!u(i))if("attributes"===r)for(var o in i)t.removeAttribute(o);else if("style"===r)for(var s in i)t.style[s]="";else t[r]="string"==typeof i?"":null}}function i(t,e,n,r,i){var u=n?n[r]:void 0;if("attributes"!==r){if(u&&s(u)&&o(u)!==o(i))return void(t[r]=i);s(t[r])||(t[r]={});var c="style"===r?"":void 0;for(var a in i){var l=i[a];t[r][a]=void 0===l?c:l}}else for(var f in i){var h=i[f];void 0===h?t.removeAttribute(f):t.setAttribute(f,h)}}function o(t){return Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__?t.__proto__:t.constructor?t.constructor.prototype:void 0}var s=t("is-object"),u=t("vtree/is-vhook");e.exports=n},{"is-object":36,"vtree/is-vhook":47}],38:[function(t,e){function n(t,e){var a=e?e.document||r:r,l=e?e.warn:null;if(t=c(t).a,u(t))return t.init();if(s(t))return a.createTextNode(t.text);if(!o(t))return l&&l("Item is not a valid virtual dom node",t),null;var f=null===t.namespace?a.createElement(t.tagName):a.createElementNS(t.namespace,t.tagName),h=t.properties;i(f,h);for(var p=t.children,d=0;d<p.length;d++){var v=n(p[d],e);v&&f.appendChild(v)}return f}var r=t("global/document"),i=t("./apply-properties"),o=t("vtree/is-vnode"),s=t("vtree/is-vtext"),u=t("vtree/is-widget"),c=t("vtree/handle-thunk");e.exports=n},{"./apply-properties":37,"global/document":40,"vtree/handle-thunk":45,"vtree/is-vnode":48,"vtree/is-vtext":49,"vtree/is-widget":50}],39:[function(t,e){function n(t,e,n,i){return n&&0!==n.length?(n.sort(o),r(t,e,n,i,0)):{}}function r(t,e,n,o,u){if(o=o||{},t){i(n,u,u)&&(o[u]=t);var c=e.children;if(c)for(var a=t.childNodes,l=0;l<e.children.length;l++){u+=1;var f=c[l]||s,h=u+(f.count||0);i(n,u,h)&&r(a[l],f,n,o,u),u=h}}return o}function i(t,e,n){if(0===t.length)return!1;for(var r,i,o=0,s=t.length-1;s>=o;){if(r=(s+o)/2>>0,i=t[r],o===s)return i>=e&&n>=i;if(e>i)o=r+1;else{if(!(i>n))return!0;s=r-1}}return!1}function o(t,e){return t>e?1:-1}var s={};e.exports=n},{}],40:[function(t,e){var n="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},r=t("min-document");if("undefined"!=typeof document)e.exports=document;else{var i=n["__GLOBAL_DOCUMENT_CACHE@4"];i||(i=n["__GLOBAL_DOCUMENT_CACHE@4"]=r),e.exports=i}},{"min-document":2}],41:[function(t,e){function n(t,e,n){var c=t.type,h=t.vNode,d=t.patch;switch(c){case p.REMOVE:return r(e,h);case p.INSERT:return i(e,d,n);case p.VTEXT:return o(e,h,d,n);case p.WIDGET:return s(e,h,d,n);case p.VNODE:return u(e,h,d,n);case p.ORDER:return a(e,d),e;case p.PROPS:return f(e,d,h.properties),e;case p.THUNK:return l(e,n.patch(e,d,n));default:return e}}function r(t,e){var n=t.parentNode;return n&&n.removeChild(t),c(t,e),null}function i(t,e,n){var r=d(e,n);return t&&t.appendChild(r),t}function o(t,e,n,r){var i;if(3===t.nodeType)t.replaceData(0,t.length,n.text),i=t;else{var o=t.parentNode;i=d(n,r),o&&o.replaceChild(i,t)}return c(t,e),i}function s(t,e,n,r){if(v(e,n))return n.update(e,t)||t;var i=t.parentNode,o=d(n,r);return i&&i.replaceChild(o,t),c(t,e),o}function u(t,e,n,r){var i=t.parentNode,o=d(n,r);return i&&i.replaceChild(o,t),c(t,e),o}function c(t,e){"function"==typeof e.destroy&&h(e)&&e.destroy(t)}function a(t,e){var n,r=[],i=t.childNodes,o=i.length,s=e.reverse;for(n=0;o>n;n++)r.push(t.childNodes[n]);var u,c,a,l=0;for(n=0;o>n;n++)u=e[n],void 0!==u&&u!==n&&(s[n]>n&&l++,c=r[u],a=i[n+l],c!==a&&t.insertBefore(c,a),n>u&&l--),n in e.removes&&l++}function l(t,e){return t&&e&&t!==e&&t.parentNode&&(console.log(t),t.parentNode.replaceChild(e,t)),e}var f=t("./apply-properties"),h=t("vtree/is-widget"),p=t("vtree/vpatch"),d=t("./create-element"),v=t("./update-widget");e.exports=n},{"./apply-properties":37,"./create-element":38,"./update-widget":43,"vtree/is-widget":50,"vtree/vpatch":52}],42:[function(t,e){function n(t,e){return r(t,e)}function r(t,e,n){var u=o(e);if(0===u.length)return t;var a=c(t,e.a,u),l=t.ownerDocument;n||(n={patch:r},l!==s&&(n.document=l));for(var f=0;f<u.length;f++){var h=u[f];t=i(t,a[h],e[h],n)}return t}function i(t,e,n,r){if(!e)return t;var i;if(u(n))for(var o=0;o<n.length;o++)i=a(n[o],e,r),e===t&&(t=i);else i=a(n,e,r),e===t&&(t=i);return t}function o(t){var e=[];for(var n in t)"a"!==n&&e.push(Number(n));return e}var s=t("global/document"),u=t("x-is-array"),c=t("./dom-index"),a=t("./patch-op");e.exports=n},{"./dom-index":39,"./patch-op":41,"global/document":40,"x-is-array":53}],43:[function(t,e){function n(t,e){return r(t)&&r(e)?"name"in t&&"name"in e?t.id===e.id:t.init===e.init:!1}var r=t("vtree/is-widget");e.exports=n},{"vtree/is-widget":50}],44:[function(t,e){function n(t,e){var n={a:t};return r(t,e,n,0),n}function r(t,e,n,r){if(t===e)return void(w(t)||w(e)?c(t,e,n,r):l(e,n,r));var o=n[r];if(null==e)o=p(o,new b(b.REMOVE,t,e)),u(t,n,r);else if(w(t)||w(e))c(t,e,n,r);else if(m(e))if(m(t)){if(t.tagName===e.tagName&&t.namespace===e.namespace&&t.key===e.key){var a=i(t.properties,e.properties,e.hooks);a&&(o=p(o,new b(b.PROPS,t,a)))}else o=p(o,new b(b.VNODE,t,e)),u(t,n,r);o=s(t,e,n,o,r)}else o=p(o,new b(b.VNODE,t,e)),u(t,n,r);else g(e)?g(t)?t.text!==e.text&&(o=p(o,new b(b.VTEXT,t,e))):(o=p(o,new b(b.VTEXT,t,e)),u(t,n,r)):y(e)&&(o=p(o,new b(b.WIDGET,t,e)),y(t)||u(t,n,r));o&&(n[r]=o)}function i(t,e,n){var r;for(var s in t){s in e||(r=r||{},r[s]=void 0);var u=t[s],c=e[s];if(n&&s in n)r=r||{},r[s]=c;else if(v(u)&&v(c))if(o(c)!==o(u))r=r||{},r[s]=c;else{var a=i(u,c);a&&(r=r||{},r[s]=a)}else u!==c&&(r=r||{},r[s]=c)}for(var l in e)l in t||(r=r||{},r[l]=e[l]);return r}function o(t){return Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__?t.__proto__:t.constructor?t.constructor.prototype:void 0}function s(t,e,n,i,o){for(var s=t.children,c=f(s,e.children),a=s.length,l=c.length,h=a>l?a:l,d=0;h>d;d++){var v=s[d],g=c[d];o+=1,v?g?r(v,g,n,o):v&&(n[o]=new b(b.REMOVE,v,null),u(v,n,o)):g&&(i=p(i,new b(b.INSERT,null,g))),m(v)&&v.count&&(o+=v.count)}return c.moves&&(i=p(i,new b(b.ORDER,t,c.moves))),i}function u(t,e,n){if(y(t))"function"==typeof t.destroy&&(e[n]=new b(b.REMOVE,t,null));else if(m(t)&&t.hasWidgets)for(var r=t.children,i=r.length,o=0;i>o;o++){var s=r[o];n+=1,u(s,e,n),m(s)&&s.count&&(n+=s.count)}}function c(t,e,r,i){var o=x(t,e),s=n(o.a,o.b);a(s)&&(r[i]=new b(b.THUNK,null,s))}function a(t){for(var e in t)if("a"!==e)return!0;return!1}function l(t,e,n){if(m(t)&&(t.hooks&&(e[n]=new b(b.PROPS,t.hooks,t.hooks)),t.descendantHooks))for(var r=t.children,i=r.length,o=0;i>o;o++){var s=r[o];n+=1,l(s,e,n),m(s)&&s.count&&(n+=s.count)}}function f(t,e){var n=h(e);if(!n)return e;var r=h(t);if(!r)return e;var i={},o={};for(var s in n)i[n[s]]=r[s];for(var s in r)o[r[s]]=n[s];for(var u=t.length,c=e.length,a=u>c?u:c,l=[],f=0,p=0,d=0,v={},b=v.removes={},m=v.reverse={},g=!1;a>f;){var y=o[p];if(void 0!==y)l[p]=e[y],y!==d&&(v[y]=d,m[d]=y,g=!0),d++;else if(p in o)l[p]=void 0,b[p]=d++,g=!0;else{for(;void 0!==i[f];)f++;if(a>f){var w=e[f];w&&(l[p]=w,f!==d&&(g=!0,v[f]=d,m[d]=f),d++),f++}}p++}return g&&(l.moves=v),l}function h(t){var e,n;for(e=0;e<t.length;e++){var r=t[e];void 0!==r.key&&(n=n||{},n[r.key]=e)}return n}function p(t,e){return t?(d(t)?t.push(e):t=[t,e],t):e}var d=t("x-is-array"),v=t("is-object"),b=t("./vpatch"),m=t("./is-vnode"),g=t("./is-vtext"),y=t("./is-widget"),w=t("./is-thunk"),x=t("./handle-thunk");e.exports=n},{"./handle-thunk":45,"./is-thunk":46,"./is-vnode":48,"./is-vtext":49,"./is-widget":50,"./vpatch":52,"is-object":36,"x-is-array":53}],45:[function(t,e){function n(t,e){var n=t,i=e;return u(e)&&(i=r(e,t)),u(t)&&(n=r(t,null)),{a:n,b:i}}function r(t,e){var n=t.vnode;if(n||(n=t.vnode=t.render(e)),!(i(n)||o(n)||s(n)))throw new Error("thunk did not return a valid node");return n}var i=t("./is-vnode"),o=t("./is-vtext"),s=t("./is-widget"),u=t("./is-thunk");e.exports=n},{"./is-thunk":46,"./is-vnode":48,"./is-vtext":49,"./is-widget":50}],46:[function(t,e){function n(t){return t&&"Thunk"===t.type}e.exports=n},{}],47:[function(t,e){function n(t){return t&&"function"==typeof t.hook&&!t.hasOwnProperty("hook")}e.exports=n},{}],48:[function(t,e){function n(t){return t&&"VirtualNode"===t.type&&t.version===r}var r=t("./version");e.exports=n},{"./version":51}],49:[function(t,e){function n(t){return t&&"VirtualText"===t.type&&t.version===r
}var r=t("./version");e.exports=n},{"./version":51}],50:[function(t,e){function n(t){return t&&"Widget"===t.type}e.exports=n},{}],51:[function(t,e){e.exports="1"},{}],52:[function(t,e){function n(t,e,n){this.type=Number(t),this.vNode=e,this.patch=n}var r=t("./version");n.NONE=0,n.VTEXT=1,n.VNODE=2,n.WIDGET=3,n.PROPS=4,n.ORDER=5,n.INSERT=6,n.REMOVE=7,n.THUNK=8,e.exports=n,n.prototype.version=r,n.prototype.type="VirtualPatch"},{"./version":51}],53:[function(t,e){function n(t){return"[object Array]"===i.call(t)}var r=Array.isArray,i=Object.prototype.toString;e.exports=r||n},{}],54:[function(t,e){var n=t("vdom/patch");e.exports=n},{"vdom/patch":42}],55:[function(t,e){function n(t){return this instanceof n?void(this.value=t):new n(t)}e.exports=n,n.prototype.hook=function(t,e,n){n&&n.value===this.value||t.setAttributeNS(null,e,this.value)}},{}],56:[function(t,e){function n(t){return this instanceof n?void(this.value=t):new n(t)}var r=t("data-set");e.exports=n,n.prototype.hook=function(t,e){var n=r(t),i=e.substr(5);n[i]=this.value}},{"data-set":61}],57:[function(t,e){function n(t){return this instanceof n?void(this.value=t):new n(t)}var r=t("data-set");e.exports=n,n.prototype.hook=function(t,e){var n=r(t),i=e.substr(3);n[i]=this.value}},{"data-set":61}],58:[function(t,e){function n(t){return this instanceof n?void(this.value=t):new n(t)}e.exports=n,n.prototype.hook=function(t,e){t[e]!==this.value&&(t[e]=this.value)}},{}],59:[function(t,e){function n(t,e,n){var i,u,c,a,l=[];!n&&o(e)&&(n=e,u={}),u=u||e||{},i=d(t,u),"key"in u&&(c=u.key,u.key=void 0),"namespace"in u&&(a=u.namespace,u.namespace=void 0),"input"===i&&"value"in u&&void 0!==u.value&&!f(u.value)&&(u.value=v(u.value));for(var h,p,g=Object.keys(u),y=0;y<g.length;y++)h=g[y],p=u[h],f(p)||("data-"===h.substr(0,5)&&(u[h]=b(p)),"ev-"===h.substr(0,3)&&(u[h]=m(p)));void 0!==n&&null!==n&&r(n,l,i,u);var w=new s(i,u,l,c,a);return w}function r(t,e,n,o){if("string"==typeof t)e.push(new u(t));else if(i(t))e.push(t);else{if(!Array.isArray(t)){if(null===t||void 0===t)return;throw g({foreignObjectStr:JSON.stringify(t),foreignObject:t,parentVnodeStr:JSON.stringify({tagName:n,properties:o}),parentVnode:{tagName:n,properties:o}})}for(var s=0;s<t.length;s++)r(t[s],e,n,o)}}function i(t){return c(t)||a(t)||l(t)||h(t)}function o(t){return"string"==typeof t||Array.isArray(t)||i(t)}var s=t("vtree/vnode.js"),u=t("vtree/vtext.js"),c=t("vtree/is-vnode"),a=t("vtree/is-vtext"),l=t("vtree/is-widget"),f=t("vtree/is-vhook"),h=t("vtree/is-thunk"),p=t("error/typed"),d=t("./parse-tag.js"),v=t("./hooks/soft-set-hook.js"),b=t("./hooks/data-set-hook.js"),m=t("./hooks/ev-hook.js"),g=p({type:"virtual-hyperscript.unexpected.virtual-element",message:"Unexpected virtual child passed to h().\nExpected a VNode / Vthunk / VWidget / string but:\ngot a {foreignObjectStr}.\nThe parent vnode is {parentVnodeStr}.\nSuggested fix: change your `h(..., [ ... ])` callsite.",foreignObjectStr:null,parentVnodeStr:null,foreignObject:null,parentVnode:null});e.exports=n},{"./hooks/data-set-hook.js":56,"./hooks/ev-hook.js":57,"./hooks/soft-set-hook.js":58,"./parse-tag.js":86,"error/typed":77,"vtree/is-thunk":78,"vtree/is-vhook":79,"vtree/is-vnode":80,"vtree/is-vtext":81,"vtree/is-widget":82,"vtree/vnode.js":84,"vtree/vtext.js":85}],60:[function(t,e){function n(t){var e=t.attributes,n={};if(null===e||void 0===e)return n;for(var r=0;r<e.length;r++){var i=e[r];"data-"===i.name.substr(0,5)&&(n[i.name.substr(5)]=i.value)}return n}e.exports=n},{}],61:[function(t,e){function n(t){var e=s(t);return e.hash||(e.hash=o(t)),e.hash}var r=t("weakmap-shim/create-store"),i=t("individual"),o=t("./create-hash.js"),s=i("__DATA_SET_WEAKMAP@3",r());e.exports=n},{"./create-hash.js":60,individual:62,"weakmap-shim/create-store":63}],62:[function(t,e){function n(t,e){return r[t]?r[t]:(Object.defineProperty(r,t,{value:e,configurable:!0}),e)}var r="undefined"!=typeof window?window:"undefined"!=typeof global?global:{};e.exports=n},{}],63:[function(t,e){function n(){var t={};return function(e){if("object"!=typeof e||null===e)throw new Error("Weakmap-shim: Key must be object");var n=e.valueOf(t);return n&&n.identity===t?n:r(e,t)}}var r=t("./hidden-store.js");e.exports=n},{"./hidden-store.js":64}],64:[function(t,e){function n(t,e){var n={identity:e},r=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(t){return t!==e?r.apply(this,arguments):n},writable:!0}),n}e.exports=n},{}],65:[function(t,e){function n(t,e){return h.isUndefined(e)?""+e:!h.isNumber(e)||!isNaN(e)&&isFinite(e)?h.isFunction(e)||h.isRegExp(e)?e.toString():e:e.toString()}function r(t,e){return h.isString(t)?t.length<e?t:t.slice(0,e):t}function i(t){return r(JSON.stringify(t.actual,n),128)+" "+t.operator+" "+r(JSON.stringify(t.expected,n),128)}function o(t,e,n,r,i){throw new v.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function s(t,e){t||o(t,!0,e,"==",v.ok)}function u(t,e){if(t===e)return!0;if(h.isBuffer(t)&&h.isBuffer(e)){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return h.isDate(t)&&h.isDate(e)?t.getTime()===e.getTime():h.isRegExp(t)&&h.isRegExp(e)?t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase:h.isObject(t)||h.isObject(e)?a(t,e):t==e}function c(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function a(t,e){if(h.isNullOrUndefined(t)||h.isNullOrUndefined(e))return!1;if(t.prototype!==e.prototype)return!1;if(c(t))return c(e)?(t=p.call(t),e=p.call(e),u(t,e)):!1;try{var n,r,i=b(t),o=b(e)}catch(s){return!1}if(i.length!=o.length)return!1;for(i.sort(),o.sort(),r=i.length-1;r>=0;r--)if(i[r]!=o[r])return!1;for(r=i.length-1;r>=0;r--)if(n=i[r],!u(t[n],e[n]))return!1;return!0}function l(t,e){return t&&e?"[object RegExp]"==Object.prototype.toString.call(e)?e.test(t):t instanceof e?!0:e.call({},t)===!0?!0:!1:!1}function f(t,e,n,r){var i;h.isString(n)&&(r=n,n=null);try{e()}catch(s){i=s}if(r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&o(i,n,"Missing expected exception"+r),!t&&l(i,n)&&o(i,n,"Got unwanted exception"+r),t&&i&&n&&!l(i,n)||!t&&i)throw i}var h=t("util/"),p=Array.prototype.slice,d=Object.prototype.hasOwnProperty,v=e.exports=s;v.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=i(this),this.generatedMessage=!0);var e=t.stackStartFunction||o;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,s=e.name,u=r.indexOf("\n"+s);if(u>=0){var c=r.indexOf("\n",u+1);r=r.substring(c+1)}this.stack=r}}},h.inherits(v.AssertionError,Error),v.fail=o,v.ok=s,v.equal=function(t,e,n){t!=e&&o(t,e,n,"==",v.equal)},v.notEqual=function(t,e,n){t==e&&o(t,e,n,"!=",v.notEqual)},v.deepEqual=function(t,e,n){u(t,e)||o(t,e,n,"deepEqual",v.deepEqual)},v.notDeepEqual=function(t,e,n){u(t,e)&&o(t,e,n,"notDeepEqual",v.notDeepEqual)},v.strictEqual=function(t,e,n){t!==e&&o(t,e,n,"===",v.strictEqual)},v.notStrictEqual=function(t,e,n){t===e&&o(t,e,n,"!==",v.notStrictEqual)},v.throws=function(){f.apply(this,[!0].concat(p.call(arguments)))},v.doesNotThrow=function(){f.apply(this,[!1].concat(p.call(arguments)))},v.ifError=function(t){if(t)throw t};var b=Object.keys||function(t){var e=[];for(var n in t)d.call(t,n)&&e.push(n);return e}},{"util/":68}],66:[function(t,e){e.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],67:[function(t,e){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],68:[function(t,e,n){function r(t,e){var r={seen:[],stylize:o};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(e)?r.showHidden=e:e&&n._extend(r,e),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),u(r,t,r.depth)}function i(t,e){var n=r.styles[e];return n?"["+r.colors[n][0]+"m"+t+"["+r.colors[n][1]+"m":t}function o(t){return t}function s(t){var e={};return t.forEach(function(t){e[t]=!0}),e}function u(t,e,r){if(t.customInspect&&e&&O(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(r,t);return g(i)||(i=u(t,i,r)),i}var o=c(t,e);if(o)return o;var d=Object.keys(e),v=s(d);if(t.showHidden&&(d=Object.getOwnPropertyNames(e)),N(e)&&(d.indexOf("message")>=0||d.indexOf("description")>=0))return a(e);if(0===d.length){if(O(e)){var b=e.name?": "+e.name:"";return t.stylize("[Function"+b+"]","special")}if(x(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(C(e))return t.stylize(Date.prototype.toString.call(e),"date");if(N(e))return a(e)}var m="",y=!1,w=["{","}"];if(p(e)&&(y=!0,w=["[","]"]),O(e)){var E=e.name?": "+e.name:"";m=" [Function"+E+"]"}if(x(e)&&(m=" "+RegExp.prototype.toString.call(e)),C(e)&&(m=" "+Date.prototype.toUTCString.call(e)),N(e)&&(m=" "+a(e)),0===d.length&&(!y||0==e.length))return w[0]+m+w[1];if(0>r)return x(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var k;return k=y?l(t,e,r,v,d):d.map(function(n){return f(t,e,r,v,n,y)}),t.seen.pop(),h(k,m,w)}function c(t,e){if(w(e))return t.stylize("undefined","undefined");if(g(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return m(e)?t.stylize(""+e,"number"):d(e)?t.stylize(""+e,"boolean"):v(e)?t.stylize("null","null"):void 0}function a(t){return"["+Error.prototype.toString.call(t)+"]"}function l(t,e,n,r,i){for(var o=[],s=0,u=e.length;u>s;++s)o.push(D(e,String(s))?f(t,e,n,r,String(s),!0):"");return i.forEach(function(i){i.match(/^\d+$/)||o.push(f(t,e,n,r,i,!0))}),o}function f(t,e,n,r,i,o){var s,c,a;if(a=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},a.get?c=a.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):a.set&&(c=t.stylize("[Setter]","special")),D(r,i)||(s="["+i+"]"),c||(t.seen.indexOf(a.value)<0?(c=v(n)?u(t,a.value,null):u(t,a.value,n-1),c.indexOf("\n")>-1&&(c=o?c.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+c.split("\n").map(function(t){return"   "+t}).join("\n"))):c=t.stylize("[Circular]","special")),w(s)){if(o&&i.match(/^\d+$/))return c;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+c}function h(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function p(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function v(t){return null===t}function b(t){return null==t}function m(t){return"number"==typeof t}function g(t){return"string"==typeof t}function y(t){return"symbol"==typeof t}function w(t){return void 0===t}function x(t){return E(t)&&"[object RegExp]"===S(t)}function E(t){return"object"==typeof t&&null!==t}function C(t){return E(t)&&"[object Date]"===S(t)}function N(t){return E(t)&&("[object Error]"===S(t)||t instanceof Error)}function O(t){return"function"==typeof t}function k(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function S(t){return Object.prototype.toString.call(t)}function A(t){return 10>t?"0"+t.toString(10):t.toString(10)}function j(){var t=new Date,e=[A(t.getHours()),A(t.getMinutes()),A(t.getSeconds())].join(":");return[t.getDate(),T[t.getMonth()],e].join(" ")}function D(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var _=/%[sdj%]/g;n.format=function(t){if(!g(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(r(arguments[n]));return e.join(" ")}for(var n=1,i=arguments,o=i.length,s=String(t).replace(_,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return t}}),u=i[n];o>n;u=i[++n])s+=v(u)||!E(u)?" "+u:" "+r(u);return s},n.deprecate=function(t,e){function r(){if(!i){if(process.throwDeprecation)throw new Error(e);process.traceDeprecation?console.trace(e):console.error(e),i=!0}return t.apply(this,arguments)}if(w(global.process))return function(){return n.deprecate(t,e).apply(this,arguments)};if(process.noDeprecation===!0)return t;var i=!1;return r};var W,R={};n.debuglog=function(t){if(w(W)&&(W=process.env.NODE_DEBUG||""),t=t.toUpperCase(),!R[t])if(new RegExp("\\b"+t+"\\b","i").test(W)){var e=process.pid;R[t]=function(){var r=n.format.apply(n,arguments);console.error("%s %d: %s",t,e,r)}}else R[t]=function(){};return R[t]},n.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=d,n.isNull=v,n.isNullOrUndefined=b,n.isNumber=m,n.isString=g,n.isSymbol=y,n.isUndefined=w,n.isRegExp=x,n.isObject=E,n.isDate=C,n.isError=N,n.isFunction=O,n.isPrimitive=k,n.isBuffer=t("./support/isBuffer");var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",j(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!E(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}},{"./support/isBuffer":67,inherits:66}],69:[function(t,e){function n(t){return t&&"object"==typeof t?s(t)?i(t,n):o(c(t),function(e,i){var o=r(i);return e[o]=n(t[i]),e},{}):t}function r(t){return t.replace(/[_.-](\w|$)/g,function(t,e){return e.toUpperCase()})}function i(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}function o(t,e,n){if(t.reduce)return t.reduce(e,n);for(var r=0;r<t.length;r++)n=e(n,t[r],r);return n}e.exports=function(t){return"string"==typeof t?r(t):n(t)};var s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},u=Object.prototype.hasOwnProperty,c=Object.keys||function(t){var e=[];for(var n in t)u.call(t,n)&&e.push(n);return e}},{}],70:[function(t,e){function n(t){var e;return e=2===arguments.length&&"object"==typeof arguments[1]?arguments[1]:i.call(arguments,1),e&&e.hasOwnProperty||(e={}),t.replace(r,function(n,r,i){var o;return"{"===t[i-1]&&"}"===t[i+n.length]?r:(o=e.hasOwnProperty(r)?e[r]:null,null===o||void 0===o?"":o)})}var r=/\{([0-9a-zA-Z]+)\}/g,i=Array.prototype.slice;e.exports=n},{}],71:[function(t,e){function n(t){return null!==t&&("object"==typeof t||"function"==typeof t)}e.exports=n},{}],72:[function(t,e){function n(t){for(var e=[].slice.call(arguments,1),n=0;n<e.length;n++){var o=e[n];if(i(o))for(var s=r(o),u=0;u<s.length;u++){var c=s[u];t[c]=o[c]}}return t}var r=t("object-keys"),i=t("./has-keys");e.exports=n},{"./has-keys":71,"object-keys":74}],73:[function(t,e){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=function(t){var e="function"==typeof t&&!(t instanceof RegExp)||"[object Function]"===r.call(t);return e||"undefined"==typeof window||(e=t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt),e};e.exports=function(t,e){if(!i(e))throw new TypeError("iterator must be a function");var r,o,s="string"==typeof t,u=t.length,c=arguments.length>2?arguments[2]:null;if(u===+u)for(r=0;u>r;r++)null===c?e(s?t.charAt(r):t[r],r,t):e.call(c,s?t.charAt(r):t[r],r,t);else for(o in t)n.call(t,o)&&(null===c?e(t[o],o,t):e.call(c,t[o],o,t))}},{}],74:[function(t,e){e.exports=Object.keys||t("./shim")},{"./shim":76}],75:[function(t,e){var n=Object.prototype.toString;e.exports=function r(t){var e=n.call(t),r="[object Arguments]"===e;return r||(r="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===n.call(t.callee)),r}},{}],76:[function(t,e){!function(){"use strict";var n,r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=t("./foreach"),s=t("./isArguments"),u=!{toString:null}.propertyIsEnumerable("toString"),c=function(){}.propertyIsEnumerable("prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];n=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===i.call(t),l=s(t),f=[];if(!e&&!n&&!l)throw new TypeError("Object.keys called on a non-object");if(l)o(t,function(t){f.push(t)});else{var h,p=c&&n;for(h in t)p&&"prototype"===h||!r.call(t,h)||f.push(h)}if(u){var d=t.constructor,v=d&&d.prototype===t;o(a,function(e){v&&"constructor"===e||!r.call(t,e)||f.push(e)})}return f},e.exports=n}()},{"./foreach":73,"./isArguments":75}],77:[function(t,e){function n(t){function e(e){var r=new Error;Object.defineProperty(r,"type",{value:r.type,enumerable:!0,writable:!0,configurable:!0});var i=s({},t,e);return s(r,i),r.message=o(n,i),r}r(t,"args is required"),r(t.type,"args.type is required"),r(t.message,"args.message is required");var n=t.message;if(t.type&&!t.name){var u=i(t.type)+"Error";t.name=u[0].toUpperCase()+u.substr(1)}return e.type=t.type,e._name=t.name,e}var r=t("assert/"),i=t("camelize"),o=t("string-template"),s=t("xtend/mutable");e.exports=n},{"assert/":65,camelize:69,"string-template":70,"xtend/mutable":72}],78:[function(t,e){e.exports=t(46)},{}],79:[function(t,e){e.exports=t(47)},{}],80:[function(t,e){e.exports=t(48)},{"./version":83}],81:[function(t,e){e.exports=t(49)},{"./version":83}],82:[function(t,e){e.exports=t(50)},{}],83:[function(t,e){e.exports=t(51)},{}],84:[function(t,e){function n(t,e,n,r,a){this.tagName=t,this.properties=e||u,this.children=n||c,this.key=null!=r?String(r):void 0,this.namespace="string"==typeof a?a:null;var l,f=n&&n.length||0,h=0,p=!1,d=!1;for(var v in e)if(e.hasOwnProperty(v)){var b=e[v];s(b)&&(l||(l={}),l[v]=b)}for(var m=0;f>m;m++){var g=n[m];i(g)?(h+=g.count||0,!p&&g.hasWidgets&&(p=!0),d||!g.hooks&&!g.descendantHooks||(d=!0)):!p&&o(g)&&"function"==typeof g.destroy&&(p=!0)}this.count=f+h,this.hasWidgets=p,this.hooks=l,this.descendantHooks=d}var r=t("./version"),i=t("./is-vnode"),o=t("./is-widget"),s=t("./is-vhook");e.exports=n;var u={},c=[];n.prototype.version=r,n.prototype.type="VirtualNode"},{"./is-vhook":79,"./is-vnode":80,"./is-widget":82,"./version":83}],85:[function(t,e){function n(t){this.text=String(t)}var r=t("./version");e.exports=n,n.prototype.version=r,n.prototype.type="VirtualText"},{"./version":83}],86:[function(t,e){function n(t,e){if(!t)return"div";var n=!("id"in e),o=t.split(r),s=null;i.test(o[1])&&(s="div");var u,c,a,l;for(l=0;l<o.length;l++)c=o[l],c&&(a=c.charAt(0),s?"."===a?(u=u||[],u.push(c.substring(1,c.length))):"#"===a&&n&&(e.id=c.substring(1,c.length)):s=c);return u&&(e.className&&u.push(e.className),e.className=u.join(" ")),s?s.toLowerCase():"div"}var r=/([\.#]?[a-zA-Z0-9_:-]+)/,i=/^\.|#/;e.exports=n},{}],87:[function(t,e){function n(t,e,n){!n&&r(e)&&(n=e,e={}),e=e||{},e.namespace=u;for(var c in e)if(e.hasOwnProperty(c)&&!s[c]){var a=e[c];("string"==typeof a||"number"==typeof a||"boolean"==typeof a)&&(e[c]=i(a))}return o(t,e,n)}function r(t){return"string"==typeof t||Array.isArray(t)}var i=t("./hooks/attribute-hook.js"),o=t("./index.js"),s={style:!0,namespace:!0,key:!0},u="http://www.w3.org/2000/svg";e.exports=n},{"./hooks/attribute-hook.js":55,"./index.js":59}]},{},[1]);